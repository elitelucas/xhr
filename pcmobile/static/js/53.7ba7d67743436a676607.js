webpackJsonp([53],{"/Z3O":function(e,t){},"1t7H":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("4YfN"),a=r.n(o),i=r("9rMa"),n=(a()({},Object(i.c)(["userInfo"])),a()({},Object(i.b)(["SET_USER_INFO_DATA"]),{_reviseMsg:function(){var e=this;if(""!=e.holderName&&null!=e.holderName){if(e.$route.query.nickname){if(!e.verify(e.holderName).valid)return void e.$vux.toast.text("Only Chinese characters and letters can be input","bottom")}else if(!e.verify(e.holderName).valid)return void e.$vux.toast.text("Please input correctly"+e.names,"bottom");var t={};t.token=localStorage.getItem("token"),t[e.type]=e.holderName,e.$vux.loading.show(),e.$http.post(e.urlRequest+"?m=api&c=user&a=setInfo",t).then(function(t){if(0==t.status){var r=e.userInfo;r[e.type]=e.holderName,e.SET_USER_INFO_DATA({Obj:r}),e.$vux.toast.text("Modification succeeded","bottom"),e.$router.go(-1)}else t.ret_msg&&""!=t.ret_msg&&e.$vux.toast.text(t.ret_msg,"bottom");e.$vux.loading.hide()}).catch(function(t){console.log(t),e.$vux.loading.hide()})}else e.$vux.toast.text("Please enter"+e.names,"bottom")}}),{data:function(){return{type:"",nickname:"",weixin:"",email:"",mobile:"",qq:"",names:"",verify:"",placeholder:"",numLength:30,verifyNickname:function(e){return{valid:/^[A-Za-z\u4e00-\u9fa5]{0,8}$/.test(e),msg:"Only Chinese characters and letters can be input"}},verifyWeixin:function(e){return{valid:/^[a-zA-Z0-9_-]{3,30}$/.test(e),msg:"Input wechat format error！"}},verifyEmail:function(e){return{valid:/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e),msg:"The mailbox entered is not in the correct format！"}},verifyMobile:function(e){return{valid:/^[0-9]+$/.test(e),msg:"Wrong format of mobile phone number input！"}},verifyQQ:function(e){return{valid:/^[1-9]{1}[0-9]{4,12}$/.test(e),msg:"The format of the QQ number entered is incorrect！"}}}},computed:a()({},Object(i.c)(["userInfo"])),created:function(){var e=this;switch(e.type=e.$route.query.type,e.type){case"nickname":e.verify=e.verifyNickname,e.holderName=e.$route.query.nickname,e.placeholder="Change nickname",e.names="Nickname",e.numLength=8;break;case"weixin":e.verify=e.verifyWeixin,e.holderName=e.$route.query.weixin,e.placeholder="Modify wechat",e.names="wechat";break;case"email":e.verify=e.verifyEmail,e.holderName=e.$route.query.email,e.placeholder="Modify mailbox",e.names="mailbox";break;case"mobile":e.verify=e.verifyMobile,e.holderName=e.$route.query.mobile,e.placeholder="Modify mobile phone number",e.names="phone number";break;case"qq":e.verify=e.verifyQQ,e.holderName=e.$route.query.qq,e.placeholder="ModifyQQ",e.names="QQ",e.numLength=13}},mounted:function(){this.$nextTick(function(){document.querySelector("input").focus()})},methods:a()({},Object(i.b)(["SET_USER_INFO_DATA"]),{_reviseMsg:function(){var e=this;if(""!=e.holderName&&null!=e.holderName){if(e.$route.query.nickname){if(!e.verify(e.holderName).valid)return void e.$vux.toast.text("Only Chinese characters and letters can be input","bottom")}else if(!e.verify(e.holderName).valid)return void e.$vux.toast.text("Please input correctly"+e.names,"bottom");var t={};t.token=localStorage.getItem("token"),t[e.type]=e.holderName,e.$vux.loading.show(),e.$http.post(e.urlRequest+"?m=api&c=user&a=setInfo",t).then(function(t){if(0==t.status){var r=e.userInfo;r[e.type]=e.holderName,e.SET_USER_INFO_DATA({Obj:r}),e.$vux.toast.text("Modification succeeded","bottom"),e.$router.go(-1)}else t.ret_msg&&""!=t.ret_msg&&e.$vux.toast.text(t.ret_msg,"bottom");e.$vux.loading.hide()}).catch(function(t){console.log(t),e.$vux.loading.hide()})}else e.$vux.toast.text("Please enter"+e.names,"bottom")}}),watch:{}}),s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"isHeader"},[r("div",{staticClass:"headerWrap"},[r("x-header",{staticClass:"header"},[e._v(e._s(e.placeholder)+"\n            "),r("a",{attrs:{slot:"right"},on:{click:e._reviseMsg},slot:"right"},[e._v("ok")])])],1),e._v(" "),r("group",[r("x-input",{attrs:{placeholder:e.placeholder,"is-type":e.verify,max:e.numLength},model:{value:e.holderName,callback:function(t){e.holderName=t},expression:"holderName"}})],1)],1)},staticRenderFns:[]};var l=r("vSla")(n,s,!1,function(e){r("/Z3O")},"data-v-3c750caf",null);t.default=l.exports}});
//# sourceMappingURL=53.7ba7d67743436a676607.js.map
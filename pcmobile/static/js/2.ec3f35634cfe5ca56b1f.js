webpackJsonp([2],{"2Ttz":function(t,e){},PvbP:function(t,e,n){"use strict";var i=n("3cXf"),s=n.n(i),o=n("hRKE"),a=n.n(o),c=(Boolean,Boolean,String,String,Object,Array,Boolean,Boolean,{name:"actionsheet",mounted:function(){var t=this;this.hasHeaderSlot=!!this.$slots.header,this.$nextTick(function(){t.$tabbar=document.querySelector(".weui-tabbar"),t.$refs.iOSMenu&&t.$refs.iOSMenu.addEventListener("transitionend",t.onTransitionEnd)})},props:{value:Boolean,showCancel:Boolean,cancelText:String,theme:{type:String,default:"ios"},menus:{type:[Object,Array],default:function(){return{}}},closeOnClickingMask:{type:Boolean,default:!0},closeOnClickingMenu:{type:Boolean,default:!0}},data:function(){return{hasHeaderSlot:!1,show:!1}},methods:{onTransitionEnd:function(){this.$emit(this.show?"on-after-show":"on-after-hide")},onMenuClick:function(t,e){"string"==typeof t?this.emitEvent("on-click-menu",e,t):"disabled"!==t.type&&"info"!==t.type&&(t.value||0===t.value?this.emitEvent("on-click-menu",t.value,t):(this.emitEvent("on-click-menu","",t),this.show=!1))},onClickingMask:function(){this.$emit("on-click-mask"),this.closeOnClickingMask&&(this.show=!1)},emitEvent:function(t,e,n){if("on-click-menu"===t&&!/.noop/.test(e)){var i=n;"object"===(void 0===i?"undefined":a()(i))&&(i=JSON.parse(s()(i))),this.$emit(t,e,i),this.$emit(t+"-"+e),this.closeOnClickingMenu&&(this.show=!1)}},fixIos:function(t){this.$el.parentNode&&-1!==this.$el.parentNode.className.indexOf("v-transfer-dom")||this.$tabbar&&/iphone/i.test(navigator.userAgent)&&(this.$tabbar.style.zIndex=t)}},watch:{show:function(t){var e=this;this.$emit("input",t),t?this.fixIos(-1):setTimeout(function(){e.fixIos(100)},200)},value:{handler:function(t){this.show=t},immediate:!0}},beforeDestroy:function(){this.fixIos(100),this.$refs.iOSMenu&&this.$refs.iOSMenu.removeEventListener("transitionend",this.onTransitionEnd)}}),l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vux-actionsheet"},[n("transition",{attrs:{name:"vux-actionsheet-mask"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-mask weui-mask_transparent",on:{click:t.onClickingMask}})]),t._v(" "),"android"===t.theme?n("div",{staticClass:"weui-skin_android"},[n("transition",{attrs:{name:"vux-android-actionsheet"},on:{"after-enter":function(e){t.$emit("on-after-show")},"after-leave":function(e){t.$emit("on-after-hide")}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-actionsheet"},[n("div",{staticClass:"weui-actionsheet__menu"},t._l(t.menus,function(e,i){return n("div",{staticClass:"weui-actionsheet__cell",domProps:{innerHTML:t._s(e.label||e)},on:{click:function(n){t.onMenuClick(e,i)}}})}))])])],1):n("div",{ref:"iOSMenu",staticClass:"weui-actionsheet",class:{"weui-actionsheet_toggle":t.show}},[n("div",{staticClass:"weui-actionsheet__menu"},[t.hasHeaderSlot?n("div",{staticClass:"weui-actionsheet__cell"},[t._t("header")],2):t._e(),t._v(" "),t._l(t.menus,function(e,i){return n("div",{staticClass:"weui-actionsheet__cell",class:"vux-actionsheet-menu-"+(e.type||"default"),domProps:{innerHTML:t._s(e.label||e)},on:{click:function(n){t.onMenuClick(e,i)}}})})],2),t._v(" "),t.showCancel?n("div",{staticClass:"weui-actionsheet__action",on:{click:function(e){t.emitEvent("on-click-menu","cancel")}}},[n("div",{staticClass:"weui-actionsheet__cell"},[t._v(t._s(t.cancelText||"cancel"))])]):t._e()])],1)},staticRenderFns:[]};var u=n("vSla")(c,l,!1,function(t){n("2Ttz")},null,null);e.a=u.exports},s9KU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("4YfN"),s=n.n(i),o=n("9rMa"),a=n("PvbP"),c=(a.a,s()({},Object(o.c)(["userInfo"])),s()({},Object(o.b)(["SET_USER_INFO_DATA","SET_ACCOUNT_DATA"]),{actClick:function(t){"menu2"!=t?console.log(t):this.exitLogin()},exitLogin:function(){var t=this,e={token:localStorage.getItem("token")};this.$vux.loading.show(),this.$http.post(this.urlRequest+"?m=api&c=user&a=logout",e).then(function(e){t.$vux.loading.hide(),localStorage.removeItem("token"),t.SET_USER_INFO_DATA({Obj:{}}),t.SET_ACCOUNT_DATA({Obj:{}}),t.$vux.toast.show({text:"Exit succeeded！"}),t.$router.push({path:"/login"})}).catch(function(e){t.$vux.loading.hide(),t.$vux.toast.show({text:"Data request timeout"})})}}),{components:{Actionsheet:a.a},data:function(){return{actFlag:!1,actMenus:{menu1:'<span style="color:#666; font-size:12px;">Are you sure you want to log out?</span>',menu2:'<span style="color:#ff3b30" click="exitLogin">Ok</span>'}}},computed:s()({},Object(o.c)(["userInfo"])),methods:s()({},Object(o.b)(["SET_USER_INFO_DATA","SET_ACCOUNT_DATA"]),{actClick:function(t){"menu2"!=t?console.log(t):this.exitLogin()},exitLogin:function(){var t=this,e={token:localStorage.getItem("token")};this.$vux.loading.show(),this.$http.post(this.urlRequest+"?m=api&c=user&a=logout",e).then(function(e){t.$vux.loading.hide(),localStorage.removeItem("token"),t.SET_USER_INFO_DATA({Obj:{}}),t.SET_ACCOUNT_DATA({Obj:{}}),t.$vux.toast.show({text:"Exit succeeded！"}),t.$router.push({path:"/login"})}).catch(function(e){t.$vux.loading.hide(),t.$vux.toast.show({text:"Data request timeout"})})}})}),l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"isHeader"},[n("div",{staticClass:"headerWrap"},[n("x-header",{staticClass:"header"},[t._v("Setting")])],1),t._v(" "),n("group",{staticClass:"group-min-top"},[n("cell",{attrs:{title:"Change login password",link:"/revisePsd"}}),t._v(" "),n("cell",{attrs:{title:"About us",link:"/aboutUs"}})],1),t._v(" "),n("group",{staticClass:"group-min-top login-out"},[n("cell",{attrs:{title:"Log out"},nativeOn:{click:function(e){t.actFlag=!0}}})],1),t._v(" "),n("actionsheet",{staticClass:"my-actionsheet",attrs:{menus:t.actMenus,"show-cancel":""},on:{"on-click-menu":t.actClick},model:{value:t.actFlag,callback:function(e){t.actFlag=e},expression:"actFlag"}})],1)},staticRenderFns:[]};var u=n("vSla")(c,l,!1,function(t){n("yIz2")},"data-v-349348ed",null);e.default=u.exports},yIz2:function(t,e){}});
//# sourceMappingURL=2.ec3f35634cfe5ca56b1f.js.map
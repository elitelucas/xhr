webpackJsonp([37],{eHSr:function(s,t){},lGQf:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("xQdF"),r={data:function(){return{verifyPsd:function(s){return{valid:/^(?![^a-zA-Z]+$)(?!\D+$).{6,15}$/.test(s),msg:"Please enter a 6-15 digit password that must contain both English and numerals"}},oldPassword:"",newPassword:"",confirmPsd:"",setSuccese:!0}},methods:{eyeOnOff:function(s){var t=s.currentTarget,e=this.$refs.newPassword.$el.getElementsByTagName("input")[0],r=this.$refs.confirmPsd.$el.getElementsByTagName("input")[0];"password"==e.type&&"password"==r.type?(Object(o.a)(t,"eyeOn"),Object(o.c)(t,"eyeOff"),e.type="text",r.type="text"):(Object(o.a)(t,"eyeOff"),Object(o.c)(t,"eyeOn"),e.type="password",r.type="password")},changePassword:function(){if(!this.oldPassword)return this.$refs.oldPassword.focus(),this.$vux.toast.show({text:"The old password cannot be empty"}),!1;if(!this.newPassword)return this.$refs.newPassword.focus(),this.$vux.toast.show({text:"The new password cannot be empty"}),!1;if(this.oldPassword==this.newPassword)return this.$refs.newPassword.focus(),this.$vux.toast.show({text:"The new password does not match the old one"}),!1;if(!/^(?![^a-zA-Z]+$)(?!\D+$).{6,15}$/.test(this.newPassword))return this.$refs.newPassword.focus(),this.$vux.toast.show({text:"Please enter a new 6-15 digit password that must contain both English and numerals"}),!1;if(!this.confirmPsd)return this.$refs.confirmPsd.focus(),this.$vux.toast.show({text:"Please enter a confirmation password"}),!1;if(this.newPassword!=this.confirmPsd)return this.$refs.confirmPsd.focus(),this.$vux.toast.show({text:"Two different password entries"}),!1;var s=this,t={};t.token=localStorage.getItem("token"),t.old_psd=s.oldPassword,t.new_psd=s.newPassword,t.new_psd2=s.confirmPsd,s.$vux.loading.show(),s.$http.post(s.urlRequest+"?m=api&c=user&a=updLoginPsd",t).then(function(t){s.$vux.loading.hide(),0==t.status?s.setSuccese=!1:t.ret_msg&&""!=t.ret_msg&&s.$vux.toast.show({text:t.ret_msg})}).catch(function(t){s.$vux.loading.hide(),console.log(t)})}},watch:{}},a={render:function(){var s=this,t=s.$createElement,o=s._self._c||t;return o("div",[o("div",{staticClass:"headerWrap"},[o("x-header",{staticClass:"header"},[s._v("Change login password\n            "),s.setSuccese?o("a",{staticStyle:{opacity:"0.9"},attrs:{slot:"right",href:"javascript:void(0);"},on:{click:s.changePassword},slot:"right"},[s._v("OK")]):s._e()])],1),s._v(" "),s.setSuccese?o("div",{staticClass:"weui-cell-hd-four"},[o("group",{staticClass:"group-min-top"},[o("x-input",{ref:"oldPassword",attrs:{title:"The old password",placeholder:"Please enter your password",type:"password",required:""},model:{value:s.oldPassword,callback:function(t){s.oldPassword=t},expression:"oldPassword"}})],1),s._v(" "),o("group",{staticClass:"group-min-top"},[o("x-input",{ref:"newPassword",staticClass:"lookPsd",attrs:{title:"The new password",placeholder:"Please enter your password",type:"password",required:"",max:15,"is-type":s.verifyPsd},model:{value:s.newPassword,callback:function(t){s.newPassword=t},expression:"newPassword"}},[o("em",{staticClass:"eyeOff",attrs:{slot:"right"},on:{click:s.eyeOnOff},slot:"right"})]),s._v(" "),o("x-input",{ref:"confirmPsd",attrs:{title:"Confirm password",placeholder:"Please enter a confirmation password",type:"password",required:"",max:15,"equal-with":s.newPassword},model:{value:s.confirmPsd,callback:function(t){s.confirmPsd=t},expression:"confirmPsd"}})],1)],1):s._e(),s._v(" "),o("transition",{attrs:{name:"slide"}},[s.setSuccese?s._e():o("div",[o("group",{staticClass:"weui-cells-mt"},[o("div",{staticClass:"complete"},[o("img",{attrs:{src:e("HYT1")}}),s._v(" "),o("h4",[s._v("Login password changed successfully")])])]),s._v(" "),o("div",{staticClass:"submit-btn"},[o("x-button",{attrs:{type:"warn","action-type":"button"},nativeOn:{click:function(t){s.$router.push("/login")}}},[s._v("Log back in")])],1)],1)])],1)},staticRenderFns:[]};var i=e("vSla")(r,a,!1,function(s){e("eHSr")},"data-v-7b32f93c",null);t.default=i.exports}});
//# sourceMappingURL=37.bda80ff72ae3b8d3e307.js.map
webpackJsonp([46],{"jF+b":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("4YfN"),r=s.n(i),a=s("a3Yh"),o=s.n(a),n=s("xQdF"),l=s("9rMa"),u=(r()({},Object(l.c)(["platformConfig"])),r()({},Object(l.b)(["SET_USER_INFO_DATA","SET_ACCOUNT_DATA"]),{browserRedirect:function(){var t=navigator.userAgent.toLowerCase(),e="ipad"==t.match(/ipad/i),s="iphone os"==t.match(/iphone os/i),i="midp"==t.match(/midp/i),r="rv:1.2.3.4"==t.match(/rv:1.2.3.4/i),a="ucweb"==t.match(/ucweb/i),o="android"==t.match(/android/i),n="windows ce"==t.match(/windows ce/i),l="windows mobile"==t.match(/windows mobile/i);e||s||i||r||a||o||n||l?console.log("pcmobile"):(this._getLinkUrl(),console.log("pcweb"))},_getLinkUrl:function(){this.$route.query.pid&&this.$route.query.type?this.linkUrl=this.imgRequest+"/pcweb/index.html#/reg?pid="+this.$route.query.pid+"&type="+this.$route.query.type:this.linkUrl=this.imgRequest+"/pcweb/index.html#/reg",console.log("链接地址：",this.linkUrl),window.open(this.linkUrl,"_self")},eyeOnOff:function(t){var e=t.currentTarget,s=this.$refs.psd.$el.getElementsByTagName("input")[0],i=this.$refs.confirmPsd.$el.getElementsByTagName("input")[0];"password"==s.type&&"password"==i.type?(Object(n.a)(e,"eyeOn"),Object(n.c)(e,"eyeOff"),s.type="text",i.type="text"):(Object(n.a)(e,"eyeOff"),Object(n.c)(e,"eyeOn"),s.type="password",i.type="password")},verificationCode:function(){var t=(new Date).getTime();this.codeUrl=this.imgRequest+"?m=web&c=user&a=validatecode&time="+t},registerNow:function(){var t=this;if(!this.userName)return this.$refs.userName.focus(),this.$vux.toast.show({text:"Account number cannot be empty"}),!1;if(!/^[0-9a-z]{6,15}$/i.test(this.userName))return this.$refs.userName.focus(),this.$vux.toast.show({text:"Please enter a 6-15 digit account which must contain English and numbers"}),!1;if(!this.psd)return this.$refs.psd.focus(),this.$vux.toast.show({text:"Password cannot be empty"}),!1;if(!/^(?![^a-zA-Z]+$)(?!\D+$).{6,15}$/.test(this.psd))return this.$refs.psd.focus(),this.$vux.toast.show({text:"Please enter a 6-15 digit password which must contain both English and numbers"}),!1;if(!this.confirmPsd)return this.$refs.confirmPsd.focus(),this.$vux.toast.show({text:"Please enter the confirmation password"}),!1;if(this.psd!=this.confirmPsd)return this.$refs.confirmPsd.focus(),this.$vux.toast.show({text:"The two password inputs are inconsistent"}),!1;if(this.OptionalItems.qq&&this.Optstate&&!this.qq)return this.$refs.qq.focus(),this.$vux.toast.show({text:"QQ not null"}),!1;if(this.OptionalItems.weixin&&this.Optstate&&!this.weixin)return this.$refs.weixin.focus(),this.$vux.toast.show({text:"WeChat cannot be empty"}),!1;if(this.OptionalItems.email){if(this.Optstate&&!this.email)return this.$refs.email.focus(),this.$vux.toast.show({text:"E-mail can not be empty"}),!1;if(this.Optstate&&!/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(this.email))return this.$refs.email.focus(),this.$vux.toast.show({text:"The input mailbox format is wrong!"}),!1}if(this.OptionalItems.realname&&this.Optstate&&!this.realname)return this.$refs.realname.focus(),this.$vux.toast.show({text:"Real name cannot be empty"}),!1;if(this.OptionalItems.register&&this.Optstate&&!this.register)return this.$refs.register.focus(),this.$vux.toast.show({text:"The verification code must be filled"}),!1;var e={username:this.userName,password:this.psd,password2:this.confirmPsd,qq:this.qq,weixin:this.weixin,email:this.email,realname:this.realname,register:this.register,flag:"3",code:"123",type:this.type?this.type:"1",referrer:this.referrerCode};console.log(e),this.btnLoading=!0,this.$http.post(this.urlRequest+"?m=api&c=user&a=reg",e).then(function(e){t.btnLoading=!1,0==e.status?(localStorage.setItem("token",e.token),localStorage.setItem("isUser",!0),localStorage.setItem("isLogin","1"),t.$http.post(t.urlRequest+"?m=api&c=user&a=userInfo",{token:e.token}).then(function(e){t.SET_USER_INFO_DATA({Obj:e.data})}),t.SET_ACCOUNT_DATA({Obj:{}}),t.$vux.toast.show({text:"login was successful"}),t.$router.push({path:"/home",name:"Home"})):1713==e.status?(t.$refs.userName.focus(),e.ret_msg&&""!=e.ret_msg&&t.$vux.toast.show({text:e.ret_msg})):100022==e.status?(t.$refs.regReferrerCode.focus(),e.ret_msg&&""!=e.ret_msg&&t.$vux.toast.show({text:e.ret_msg})):e.ret_msg&&""!=e.ret_msg&&t.$vux.toast.show({text:e.ret_msg})}).catch(function(e){t.btnLoading=!1,t.$vux.toast.show({text:"Data request timed out"})})}}),{data:function(){var t;return t={verifyUserName:function(t){return{valid:/^[0-9a-z]{6,15}$/i.test(t),msg:"Please enter a 6-15 digit account which must contain English and numbers"}},verifyPsd:function(t){return{valid:/^(?![^a-zA-Z]+$)(?!\D+$).{6,15}$/.test(t),msg:"Please enter a 6-15 digit password which must contain both English and numbers"}},verifyQQ:function(t){return{valid:/^[1-9]{1}[0-9]{4,}$/.test(t),msg:"The format of the entered QQ number is wrong!"}},verifyWeixin:function(t){return{valid:/^[a-zA-Z0-9_-]{3,30}$/.test(t),msg:"The input WeChat format is wrong!"}},verifyEmail:function(t){return{valid:/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(t),msg:"The input mailbox format is wrong!"}}},o()(t,"verifyUserName",function(t){return{valid:/^[0-9a-z]{6,15}$/i.test(t),msg:"Please enter a 6-15 digit account which must contain English and numbers"}}),o()(t,"userName",""),o()(t,"psd",""),o()(t,"confirmPsd",""),o()(t,"qq",""),o()(t,"weixin",""),o()(t,"email",""),o()(t,"realname",""),o()(t,"register",""),o()(t,"referrerCode",""),o()(t,"OptionalItems",{}),o()(t,"Optstate",null),o()(t,"referrer",""),o()(t,"pid",null),o()(t,"type",null),o()(t,"codeUrl",""),o()(t,"btnLoading",!1),o()(t,"linkUrl",""),t},mounted:function(){this.type=this.$route.query.type},created:function(){var t=this;this.browserRedirect(),this.verificationCode(),this.pid=this.$route.query.pid;var e={id:this.pid?this.pid:""};this.$vux.loading.show(),this.$http.post(this.urlRequest+"?m=api&c=trend&a=getRegInfo",e).then(function(e){t.$vux.loading.hide(),0==e.status&&(t.OptionalItems=e.register,t.referrerCode=e.username,0==e.state?t.Optstate=!1:t.Optstate=!0)})},computed:r()({},Object(l.c)(["platformConfig"])),methods:r()({},Object(l.b)(["SET_USER_INFO_DATA","SET_ACCOUNT_DATA"]),{browserRedirect:function(){var t=navigator.userAgent.toLowerCase(),e="ipad"==t.match(/ipad/i),s="iphone os"==t.match(/iphone os/i),i="midp"==t.match(/midp/i),r="rv:1.2.3.4"==t.match(/rv:1.2.3.4/i),a="ucweb"==t.match(/ucweb/i),o="android"==t.match(/android/i),n="windows ce"==t.match(/windows ce/i),l="windows mobile"==t.match(/windows mobile/i);e||s||i||r||a||o||n||l?console.log("pcmobile"):(this._getLinkUrl(),console.log("pcweb"))},_getLinkUrl:function(){this.$route.query.pid&&this.$route.query.type?this.linkUrl=this.imgRequest+"/pcweb/index.html#/reg?pid="+this.$route.query.pid+"&type="+this.$route.query.type:this.linkUrl=this.imgRequest+"/pcweb/index.html#/reg",console.log("链接地址：",this.linkUrl),window.open(this.linkUrl,"_self")},eyeOnOff:function(t){var e=t.currentTarget,s=this.$refs.psd.$el.getElementsByTagName("input")[0],i=this.$refs.confirmPsd.$el.getElementsByTagName("input")[0];"password"==s.type&&"password"==i.type?(Object(n.a)(e,"eyeOn"),Object(n.c)(e,"eyeOff"),s.type="text",i.type="text"):(Object(n.a)(e,"eyeOff"),Object(n.c)(e,"eyeOn"),s.type="password",i.type="password")},verificationCode:function(){var t=(new Date).getTime();this.codeUrl=this.imgRequest+"?m=web&c=user&a=validatecode&time="+t},registerNow:function(){var t=this;if(!this.userName)return this.$refs.userName.focus(),this.$vux.toast.show({text:"Account number cannot be empty"}),!1;if(!/^[0-9a-z]{6,15}$/i.test(this.userName))return this.$refs.userName.focus(),this.$vux.toast.show({text:"Please enter a 6-15 digit account which must contain English and numbers"}),!1;if(!this.psd)return this.$refs.psd.focus(),this.$vux.toast.show({text:"Password cannot be empty"}),!1;if(!/^(?![^a-zA-Z]+$)(?!\D+$).{6,15}$/.test(this.psd))return this.$refs.psd.focus(),this.$vux.toast.show({text:"Please enter a 6-15 digit password which must contain both English and numbers"}),!1;if(!this.confirmPsd)return this.$refs.confirmPsd.focus(),this.$vux.toast.show({text:"Please enter the confirmation password"}),!1;if(this.psd!=this.confirmPsd)return this.$refs.confirmPsd.focus(),this.$vux.toast.show({text:"The two password inputs are inconsistent"}),!1;if(this.OptionalItems.qq&&this.Optstate&&!this.qq)return this.$refs.qq.focus(),this.$vux.toast.show({text:"QQ cannot be empty"}),!1;if(this.OptionalItems.weixin&&this.Optstate&&!this.weixin)return this.$refs.weixin.focus(),this.$vux.toast.show({text:"WeChat cannot be empty"}),!1;if(this.OptionalItems.email){if(this.Optstate&&!this.email)return this.$refs.email.focus(),this.$vux.toast.show({text:"E-mail can not be empty"}),!1;if(this.Optstate&&!/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(this.email))return this.$refs.email.focus(),this.$vux.toast.show({text:"The input mailbox format is wrong!"}),!1}if(this.OptionalItems.realname&&this.Optstate&&!this.realname)return this.$refs.realname.focus(),this.$vux.toast.show({text:"Real name cannot be empty"}),!1;if(this.OptionalItems.register&&this.Optstate&&!this.register)return this.$refs.register.focus(),this.$vux.toast.show({text:"The verification code must be filled"}),!1;var e={username:this.userName,password:this.psd,password2:this.confirmPsd,qq:this.qq,weixin:this.weixin,email:this.email,realname:this.realname,register:this.register,flag:"3",code:"123",type:this.type?this.type:"1",referrer:this.referrerCode};console.log(e),this.btnLoading=!0,this.$http.post(this.urlRequest+"?m=api&c=user&a=reg",e).then(function(e){t.btnLoading=!1,0==e.status?(localStorage.setItem("token",e.token),localStorage.setItem("isUser",!0),localStorage.setItem("isLogin","1"),t.$http.post(t.urlRequest+"?m=api&c=user&a=userInfo",{token:e.token}).then(function(e){t.SET_USER_INFO_DATA({Obj:e.data})}),t.SET_ACCOUNT_DATA({Obj:{}}),t.$vux.toast.show({text:"login was successful"}),t.$router.push({path:"/home",name:"Home"})):1713==e.status?(t.$refs.userName.focus(),e.ret_msg&&""!=e.ret_msg&&t.$vux.toast.show({text:e.ret_msg})):100022==e.status?(t.$refs.regReferrerCode.focus(),e.ret_msg&&""!=e.ret_msg&&t.$vux.toast.show({text:e.ret_msg})):e.ret_msg&&""!=e.ret_msg&&t.$vux.toast.show({text:e.ret_msg})}).catch(function(e){t.btnLoading=!1,t.$vux.toast.show({text:"Data request timed out"})})}}),watch:{}}),h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-content"},[s("scroll",[s("div",{staticClass:"login-reg-wrap"},[s("div",{staticClass:"login-reg register-wrap"},[s("router-link",{staticClass:"return-login",attrs:{to:"/login"}},[t._v("login")]),t._v(" "),s("router-link",{staticClass:"login-reg-close",attrs:{to:"/"}}),t._v(" "),s("div",{staticClass:"login-top"},[s("div",{staticClass:"default-avatar"},[s("img",{attrs:{src:"/up_files/room/avatar.png"}})])]),t._v(" "),s("div",{staticClass:"login-reg-con"},[s("group",[s("x-input",{ref:"userName",staticClass:"login-account input-required",attrs:{placeholder:"Please enter your account number",required:"",max:15,"data-con":!0,"is-type":t.verifyUserName},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}}),t._v(" "),s("p",{staticClass:"text-gray reg-tips"},[t._v("Please enter a 6-15 digit account which must contain English and numbers")]),t._v(" "),s("x-input",{ref:"psd",staticClass:"login-passport input-required",attrs:{placeholder:"Please enter your password",type:"password",required:"",max:15,"data-con":!0,"is-type":t.verifyPsd},model:{value:t.psd,callback:function(e){t.psd=e},expression:"psd"}},[s("em",{staticClass:"eyeOff",attrs:{slot:"label"},on:{click:t.eyeOnOff},slot:"label"})]),t._v(" "),s("p",{staticClass:"text-gray reg-tips"},[t._v("Please enter a 6-15 digit password which must contain both English and numbers")]),t._v(" "),s("x-input",{ref:"confirmPsd",staticClass:"login-passport input-required",attrs:{placeholder:"Please enter the confirmation password",type:"password",required:"",max:15,"data-con":!0,"equal-with":t.psd},model:{value:t.confirmPsd,callback:function(e){t.confirmPsd=e},expression:"confirmPsd"}}),t._v(" "),t.OptionalItems.qq?s("x-input",{ref:"qq",staticClass:"login-qq",attrs:{placeholder:"请输入您的QQ",required:t.Optstate,"data-con":t.Optstate},model:{value:t.qq,callback:function(e){t.qq=e},expression:"qq"}}):t._e(),t._v(" "),t.OptionalItems.weixin?s("x-input",{ref:"weixin",staticClass:"login-weixin",attrs:{placeholder:"请输入您的微信",required:t.Optstate,"data-con":t.Optstate},model:{value:t.weixin,callback:function(e){t.weixin=e},expression:"weixin"}}):t._e(),t._v(" "),t.OptionalItems.email?s("x-input",{ref:"email",staticClass:"login-email",attrs:{placeholder:"Please enter your e-mail",required:t.Optstate,"data-con":t.Optstate,"is-type":t.verifyEmail},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}):t._e(),t._v(" "),t.OptionalItems.realname?s("x-input",{ref:"realname",staticClass:"login-realname",attrs:{placeholder:"Please enter your full name",required:t.Optstate,"data-con":t.Optstate},model:{value:t.realname,callback:function(e){t.realname=e},expression:"realname"}}):t._e(),t._v(" "),t.OptionalItems.register?s("x-input",{ref:"register",staticClass:"login-register",attrs:{placeholder:"Please enter your verification code",required:t.Optstate,"data-con":t.Optstate},model:{value:t.register,callback:function(e){t.register=e},expression:"register"}},[s("img",{ref:"codeUrl",staticClass:"verificationCode",attrs:{slot:"label",src:t.codeUrl},on:{click:t.verificationCode},slot:"label"})]):t._e(),t._v(" "),t.OptionalItems.referrerCode?s("x-input",{ref:"regReferrerCode",staticClass:"login-recommend",attrs:{placeholder:"Please enter the reference (optional)",disabled:!!t.pid},model:{value:t.referrerCode,callback:function(e){t.referrerCode=e},expression:"referrerCode"}}):t._e()],1),t._v(" "),s("div",{staticClass:"log-btn"},[s("x-button",{staticClass:"weui-btn_radius",attrs:{type:"warn","action-type":"button",disabled:t.btnLoading,"show-loading":t.btnLoading},nativeOn:{click:function(e){return t.registerNow(e)}}},[t._v("Register")])],1)],1)],1)])])],1)},staticRenderFns:[]};var c=s("vSla")(u,h,!1,function(t){s("x/AG")},"data-v-672d10a8",null);e.default=c.exports},"x/AG":function(t,e){}});
//# sourceMappingURL=46.18f5aef4433dbda52a23.js.map
webpackJsonp([18],{TsC1:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("4YfN"),a=s.n(i),l=s("9rMa"),n=s("j108"),r=s("inDh"),o=s("cy8Z"),c=s("zv2G"),u=(n.a,r.a,o.a,c.a,a()({},Object(l.c)(["platformConfig"])),{components:{Tab:n.a,TabItem:r.a,Marquee:o.a,MarqueeItem:c.a},data:function(){return{introShow:!0,ruleShow:!1,congratulation:!1,gameTime:0,noTimes:!1,flag:!1,indexMsg:{},rules:{},myAward:{},page:1,result:{},id:0,haveChance:!0,openBagFlag:!1,prizeWidth:null,loadMoreFlag:!0,pullUpLoad:!1,browserkernel:"",templateNum:"",styleTemplate:null}},computed:a()({},Object(l.c)(["platformConfig"])),created:function(){document.title="幸运福袋",this._getActivityBack(),this.browserRedirect(),this.id=this.$route.query.id,this.id&&(this._getIndex(),this._getRules())},mounted:function(){var t=this;window.onresize=function(){clearTimeout(t.browserTime),t.browserTime=setTimeout(function(){t.browserRedirect()},400)}},methods:{_getActivityBack:function(){var t=this,e={type:3};this.$http.post(this.urlRequest+"?m=api&c=app&a=getActivityBack",e).then(function(e){t.templateNum=e.data,console.log("风格模板：",e.data)})},browserRedirect:function(){var t=navigator.userAgent.toLowerCase(),e="ipad"==t.match(/ipad/i),s="iphone os"==t.match(/iphone os/i),i="midp"==t.match(/midp/i),a="rv:1.2.3.4"==t.match(/rv:1.2.3.4/i),l="ucweb"==t.match(/ucweb/i),n="android"==t.match(/android/i),r="windows ce"==t.match(/windows ce/i),o="windows mobile"==t.match(/windows mobile/i);this.browserkernel=e||s||i||a||l||n||r||o?"h5":"pc"},playAgain:function(){this.page=1,this._getRules(),this._getIndex(),this.congratulation=!0},ruleClick:function(){this.rules.details?this.ruleShow=!0:this._getRules(2)},ruleHide:function(){this.introShow=!0,this.ruleShow=!1},tabChange:function(t){var e=this;0==t?(this.introShow=!0,this.pullUpLoad=!1,setTimeout(function(){e.$refs.scroll.initScroll()},20)):(this.introShow=!1,this.pullUpLoad=!0,setTimeout(function(){e.$refs.scroll.initScroll()},20))},pullingDown:function(){this.page=1,this._getRules()},pullingUp:function(){this.pullUpLoadFlag?this.$refs.scroll.forceUpdate(!1):(this.page+=1,this._getRules())},loadMoreRecord:function(){this.page+=1,this._getRules(1)},_getRules:function(t){var e=this,s=this,i={};i.id=s.id,i.type=4,i.page=s.page,t&&s.$vux.loading.show(),s.pullUpLoadFlag=!1,s.$http.post(s.urlRequest+"?m=web&c=activity&a=nineRole",i).then(function(i){t&&s.$vux.loading.hide(),0==i.status&&(s.rules=i.result,1==s.page?s.myAward=i.result.list:s.myAward=s.myAward.concat(i.result.list),s.rules.list.length<20&&(s.pullUpLoadFlag=!0,s.loadMoreFlag=!1),2==t&&(e.ruleShow=!0))}).catch(function(t){e.$refs.scroll.forceUpdate(!1),e.pullUpLoad=!1,e.$vux.toast.show({text:"Data request timed out"})})},_getIndex:function(){var t=this,e={};e.id=t.id,e.type=4,t.$vux.loading.show(),t.$http.post(t.urlRequest+"?m=web&c=activity&a=nineIndex",e).then(function(e){0==e.status&&(t.indexMsg=e.result,t.prizeWidth=2*t.indexMsg.config.length+.08*(t.indexMsg.config.length+1),t.gameTime=t.indexMsg.num),t.$vux.loading.hide()}).catch(function(e){t.$vux.loading.hide(),console.log(e)})},_getLucDraw:function(){var t=this;if(!t.openBagFlag)if(this.gameTime<=0)this.noTimes=!0;else{var e={};e.id=t.id,e.type=4,t.openBagFlag=!0,t.$http.post(t.urlRequest+"?m=web&c=activity&a=nineLucDraw",e).then(function(e){if(-3==e.status)return t.openBagFlag=!1,void t.$vux.toast.text(e.ret_msg,"bottom");0==e.status&&(t.result=e.result,t.gameTime=t.result.num,setTimeout(function(){t.openBagFlag=!1,t.congratulation=!0},2e3))}).catch(function(e){t.openBagFlag=!1,t.$vux.toast.text("Lottery failed, please try again","bottom"),console.log(e)})}}},watch:{browserkernel:function(t){var e=this;2==e.templateNum?e.styleTemplate="h5"==t?"fudaiH5 mobileStyle1":"fudaiPC pcStyle1":4==e.templateNum?e.styleTemplate="h5"==t?"fudaiH5 mobileStyle2":"fudaiPC pcStyle2":e.styleTemplate="h5"==t?"fudaiH5":"fudaiPC"},templateNum:function(t){var e=this;e.styleTemplate=2==t?"h5"==e.browserkernel?"fudaiH5 mobileStyle1":"fudaiPC pcStyle1":4==t?"h5"==e.browserkernel?"fudaiH5 mobileStyle2":"fudaiPC pcStyle2":"h5"==e.browserkernel?"fudaiH5":"fudaiPC"},platformConfig:function(t){t.platform_name&&(document.title="幸运福袋")}},beforeDestroy:function(){}}),_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fudai",class:t.styleTemplate},["h5"==t.browserkernel?[i("div",{staticClass:"H5Panel"},[i("div",{staticClass:"panel"},[i("a",{staticClass:"rules-btn",attrs:{href:"javascript:void(0);"},on:{click:t.ruleClick}},[t._v("活动规则")]),t._v(" "),t.indexMsg?i("div",{staticClass:"winPrize"},[i("strong",[t._v("中奖公告：")]),t._v(" "),i("marquee",t._l(t.indexMsg.list,function(e,s){return i("marquee-item",{key:s},[t._v("恭喜"),i("span",[t._v(t._s(e.username))]),t._v("拆开福袋，获得"),i("span",[t._v(t._s(e.prize_project)+t._s(e.prize_name))])])}))],1):t._e(),t._v(" "),i("div",{staticClass:"slogan"}),t._v(" "),i("div",{staticClass:"lottery"},[i("div",{staticClass:"beam",class:{openAnimation:t.openBagFlag}}),t._v(" "),i("img",{staticClass:"fudai-img",attrs:{src:s("pCQq")}}),t._v(" "),i("a",{staticClass:"draw-btn",attrs:{href:"javascript:void(0);"},on:{click:t._getLucDraw}})]),t._v(" "),i("p",{staticClass:"gameTime"},[t._v("剩余次数"),i("span",[t._v("【"+t._s(t.gameTime)+"】")]),t._v("次")]),t._v(" "),i("div",{staticClass:"h5Award"},[t.indexMsg?i("scroll",{attrs:{freeScroll:!0,eventPassthrough:"vertical",data:t.indexMsg.config}},[i("ul",{style:{width:t.prizeWidth+"rem"}},[t._l(t.indexMsg.config,function(e,s){return s&&s>0?i("li",{key:s},[i("img",{attrs:{src:t.imgRequest+"/"+e.prize_img}}),t._v(" "),i("p",[t._v(t._s(e.prize_project))])]):t._e()}),t._v(" "),t.indexMsg.config?i("li",{staticClass:"consolationPrize"},[i("p",[t._v(t._s(t.indexMsg.config[0].prize_project))])]):t._e()],2)]):t._e()],1),t._v(" "),t.rules&&t.rules.time?i("div",{staticClass:"actDate"},[t._v("活动时间："+t._s(t.rules.time.start_time+" 至 "+t.rules.time.end_time))]):t._e(),t._v(" "),t.rules?i("div",{staticClass:"copy",domProps:{innerHTML:t._s(t.rules.statement)}}):t._e()])])]:t._e(),t._v(" "),"pc"==t.browserkernel?[i("div",{staticClass:"left-pendant"}),t._v(" "),i("div",{staticClass:"right-pendant"}),t._v(" "),i("div",{staticClass:"bottom-bg"}),t._v(" "),t.indexMsg?i("div",{staticClass:"winPrize-wrapper"},[i("div",{staticClass:"winPrize"},[i("strong",[t._v("中奖公告：")]),t._v(" "),i("marquee",t._l(t.indexMsg.list,function(e,s){return i("marquee-item",{key:s},[t._v("恭喜"),i("span",[t._v(t._s(e.username))]),t._v("拆开福袋，获得"),i("span",[t._v(t._s(e.prize_project)+t._s(e.prize_name))])])}))],1)]):t._e(),t._v(" "),i("a",{staticClass:"rules-btn",attrs:{href:"javascript:void(0);"},on:{click:t.ruleClick}},[t._v("活动规则")]),t._v(" "),i("div",{staticClass:"PCPanel"},[i("div",{staticClass:"slogan"}),t._v(" "),t.rules&&t.rules.time?i("div",{staticClass:"style1actDate"},[t._v("活动时间："+t._s(t.rules.time.start_time+" 至 "+t.rules.time.end_time))]):t._e(),t._v(" "),i("div",{staticClass:"panel"},[i("div",{staticClass:"rulesPanel"},[i("h4",{staticClass:"tit"}),t._v(" "),i("div",{staticClass:"content"},[t.rules.role?i("div",{staticClass:"text"},[i("p",[t._v("1.充值达"+t._s(t.rules.role.topup_money)+"元宝，获得"+t._s(t.rules.role.topup_num)+"次抽奖机会；")]),t._v(" "),i("p",[t._v("2.投注达"+t._s(t.rules.role.bet_money)+"元宝，获得"+t._s(t.rules.role.bet_num)+"次抽奖机会；")]),t._v(" "),i("p",[t._v("3.赢分达"+t._s(t.rules.role.win_money)+"元宝，获得"+t._s(t.rules.role.win_num)+"次抽奖机会；")]),t._v(" "),i("p",[t._v("4.输分达"+t._s(t.rules.role.lose_money)+"元宝，获得"+t._s(t.rules.role.lose_num)+"次抽奖机会；")]),t._v(" "),i("p",[t._v("5.充值投注赠送次数即时生效，输赢赠送次数每日12点结算，以上规则均在此次活动时间内生效。")])]):t._e(),t._v(" "),t.rules?i("div",{staticClass:"copy",domProps:{innerHTML:t._s(t.rules.statement)}}):t._e()]),t._v(" "),i("div",{staticClass:"bedeck left-bedeck"})]),t._v(" "),i("div",{staticClass:"midPanel"},[t.indexMsg?i("div",{staticClass:"winPrize"},[i("strong",[t._v("中奖公告：")]),t._v(" "),i("marquee",t._l(t.indexMsg.list,function(e,s){return i("marquee-item",{key:s},[t._v("恭喜"),i("span",[t._v(t._s(e.username))]),t._v("拆开福袋，获得"),i("span",[t._v(t._s(e.prize_project)+t._s(e.prize_name))])])}))],1):t._e(),t._v(" "),i("div",{staticClass:"lottery"},[i("div",{staticClass:"beam",class:{openAnimation:t.openBagFlag}}),t._v(" "),i("img",{staticClass:"fudai-img",attrs:{src:s("onCI")}}),t._v(" "),i("a",{staticClass:"draw-btn",attrs:{href:"javascript:void(0);"},on:{click:t._getLucDraw}})]),t._v(" "),i("p",{staticClass:"gameTime"},[t._v("剩余次数"),i("span",[t._v("【"+t._s(t.gameTime)+"】")]),t._v("次")]),t._v(" "),t.rules&&t.rules.time?i("div",{staticClass:"actDate"},[t._v("活动时间："+t._s(t.rules.time.start_time+" 至 "+t.rules.time.end_time))]):t._e()]),t._v(" "),i("div",{staticClass:"awardPanel"},[i("h4",{staticClass:"tit"}),t._v(" "),t.indexMsg?i("div",{staticClass:"content"},[i("ul",[t._l(t.indexMsg.config,function(e,s){return s&&s>0?i("li",{key:s},[i("img",{attrs:{src:t.imgRequest+"/"+e.prize_img}}),t._v(" "),i("p",[t._v(t._s(e.prize_project))])]):t._e()}),t._v(" "),t.indexMsg.config?i("li",{staticClass:"consolationPrize"},[i("p",[t._v(t._s(t.indexMsg.config[0].prize_project))])]):t._e()],2)]):t._e(),t._v(" "),i("div",{staticClass:"bedeck right-bedeck"})])])])]:t._e(),t._v(" "),t.ruleShow?i("div",{staticClass:"introduce"},[i("p",[i("img",{attrs:{src:s("KD/M"),alt:""},on:{click:t.ruleHide}})]),t._v(" "),i("tab",{attrs:{"line-width":2,"custom-bar-width":"2rem","bar-active-color":"#FEC806","active-color":"#FEC806","default-color":"#fff"}},[i("tab-item",{attrs:{selected:""},on:{"on-item-click":t.tabChange}},[t._v("活动说明")]),t._v(" "),i("tab-item",{on:{"on-item-click":t.tabChange}},[t._v("我的奖品")])],1),t._v(" "),i("div",{staticClass:"temp"},[i("scroll",{ref:"scroll",attrs:{pullDownRefresh:!0,pullUpLoad:t.pullUpLoad,data:t.myAward},on:{pullingDown:t.pullingDown,pullingUp:t.pullingUp}},[t.introShow&&t.rules?i("flexbox",{staticClass:"item-container",attrs:{orient:"vertical"}},[t.rules.time?i("flexbox-item",{attrs:{span:5}},[i("a",[t._v("活动时间")]),t._v(" "),i("p",[t._v(t._s(t.rules.time.start_time+" — "+t.rules.time.end_time))])]):t._e(),t._v(" "),t.rules.details?i("flexbox-item",{attrs:{span:5}},[i("a",[t._v("活动介绍")]),t._v(" "),i("p",{domProps:{innerHTML:t._s(t.rules.details)}})]):t._e(),t._v(" "),t.rules.role?i("flexbox-item",{staticClass:"rulesBox",attrs:{span:5}},[i("a",[t._v("活动规则")]),t._v(" "),i("p",[t._v("1.充值达"+t._s(t.rules.role.topup_money)+"元宝，获得"+t._s(t.rules.role.topup_num)+"次抽奖机会；")]),t._v(" "),i("p",[t._v("2.投注达"+t._s(t.rules.role.bet_money)+"元宝，获得"+t._s(t.rules.role.bet_num)+"次抽奖机会；")]),t._v(" "),i("p",[t._v("3.赢分达"+t._s(t.rules.role.win_money)+"元宝，获得"+t._s(t.rules.role.win_num)+"次抽奖机会；")]),t._v(" "),i("p",[t._v("4.输分达"+t._s(t.rules.role.lose_money)+"元宝，获得"+t._s(t.rules.role.lose_num)+"次抽奖机会；")]),t._v(" "),i("p",[t._v("5.充值投注赠送次数即时生效，输赢赠送次数每日12点结算，以上规则均在此次活动时间内生效。")])]):t._e()],1):i("table",{staticClass:"item-container",attrs:{cellspacing:"0",cellspadding:"0","border-collapse":"collapse"}},[i("thead",[i("tr",[i("th",[t._v("时间")]),t._v(" "),i("th",[t._v("奖项")]),t._v(" "),i("th",[t._v("奖品名称")])])]),t._v(" "),i("tbody",[t.myAward&&t.myAward.length>0?t._l(t.myAward,function(e,s){return i("tr",{key:s},[i("td",[t._v(t._s(e.add_time))]),t._v(" "),i("td",[t._v(t._s(e.prize_project))]),t._v(" "),i("td",[t._v(t._s(e.prize_name))])])}):[i("tr",[i("td",{attrs:{colspan:"3"}},[t._v("没有奖品记录")])])]],2)])],1)],1)],1):t._e(),t._v(" "),i("x-dialog",{staticClass:"public-dialog winning-info",nativeOn:{click:function(e){t.congratulation=!1}},model:{value:t.congratulation,callback:function(e){t.congratulation=e},expression:"congratulation"}},[t.result?i("div",{staticClass:"dialog-content"},[1!=t.result.prize_id?i("img",{staticClass:"title",attrs:{src:s("nsxJ"),alt:""}}):t._e(),t._v(" "),i("h1",{staticClass:"dialog-tit"},[t._v("\n                "+t._s(t.result.prize_project)+"\n            ")]),t._v(" "),i("div",{staticClass:"dialog-con"},[1!=t.result.prize_id?[t.result.prize_img?i("img",{attrs:{src:t.imgRequest+"/"+t.result.prize_img,alt:""}}):i("img",{attrs:{src:s("EsAx"),alt:""}})]:[i("img",{attrs:{src:s("CTaQ"),alt:""}})]],2),t._v(" "),i("button",{staticClass:"btn",on:{click:t.playAgain}},[t._v("再玩一次")])]):t._e()]),t._v(" "),i("x-dialog",{staticClass:"public-dialog noTimes",nativeOn:{click:function(e){t.noTimes=!1}},model:{value:t.noTimes,callback:function(e){t.noTimes=e},expression:"noTimes"}},[i("div",{staticClass:"dialog-content"},[i("h1",{staticClass:"dialog-tit times"},[t._v("\n                抱歉，您没有抽奖次数！\n            ")]),t._v(" "),i("div",{staticClass:"dialog-con"},[i("img",{attrs:{src:s("CTaQ"),alt:""}})]),t._v(" "),i("p",[t._v("充值和投注可以增加抽奖次数")])]),t._v(" "),i("span",{staticClass:"close-icon",on:{click:function(e){t.noTimes=!1}}})])],2)},staticRenderFns:[]};var v=s("vSla")(u,_,!1,function(t){s("loHJ")},"data-v-2eb06109",null);e.default=v.exports},loHJ:function(t,e){},onCI:function(t,e,s){t.exports=s.p+"static/img/lucky-bag.8500396.png"},pCQq:function(t,e,s){t.exports=s.p+"static/img/lucky-bag.32e6fc5.png"}});
//# sourceMappingURL=18.51746dc87a82e906e235.js.map
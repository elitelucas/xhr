webpackJsonp([23],{"1WAo":function(t,a){},dXVp:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=e("3cXf"),n=e.n(l),o=e("4YfN"),s=e.n(o),i=e("9rMa"),r=(s()({},Object(i.c)(["userInfo"]),{rollData:function(){for(var t=[],a=[],e=0;e<this.gameList.length;e++)a.push(this.gameList[e].game_name);return t.push(this.fixData.concat(a)),t}}),{data:function(){return{loadingFlag:!1,fixData:["现金余额"],gameList:[],rollOut:["现金余额"],rollIn:[],rollNum:null,cash:0,sum_money:0,token:localStorage.getItem("token"),rollFlag:!1}},created:function(){this._getGameList(1)},computed:s()({},Object(i.c)(["userInfo"]),{rollData:function(){for(var t=[],a=[],e=0;e<this.gameList.length;e++)a.push(this.gameList[e].game_name);return t.push(this.fixData.concat(a)),t}}),methods:{toGame:function(t){this.$http.post(this.urlRequest+"?m=api&c=game&a=getGameUrl",{plat_flag:t,token:this.token}).then(function(t){if(0==t.status){var a=window;window,window;a!=a.parent&&(a=a.parent==a.parent.parent?a.parent:a.parent.parent),window.navigator.appVersion.match(/iphone/gi)?window.location.href=t.data.gameUrl:a.open(t.data.gameUrl,"game_window","width=1270px, height=950px, scrollbars=yes").focus()}})},_getGameList:function(t){var a=this;this.$vux.loading.show();var e=this,l={};l.token=e.token,l.game_plat_id=t,e.$http.post(this.urlRequest+"?m=api&c=game&a=getGamePlatForAmtLimit",l).then(function(t){-1e4!=t.code&&(0==t.status?(e.cash=t.data.balance_count,e.sum_money=t.data.balance_usable,e.gameList=t.data.plat_list):e.$vux.toast.show({text:t.ret_msg}),a.$vux.loading.hide())})},rollOutFun:function(){var t=this,a=JSON.parse(n()(t.rollIn));t.rollIn=[],"现金余额"==t.rollOut[0]?(console.log("left"),"现金余额"==a[0]?t.rollIn.push(t.gameList[0].game_name):t.rollIn.push(a[0])):t.rollIn.push("现金余额")},rollInFun:function(){var t=this,a=JSON.parse(n()(t.rollOut));t.rollOut=[],"现金余额"==t.rollIn[0]?(console.log("right"),"现金余额"==a[0]?t.rollOut.push(t.gameList[0].game_name):t.rollOut.push(a[0])):t.rollOut.push("现金余额")},changeRoll:function(){var t=this.rollOut;this.rollOut=this.rollIn,this.rollIn=t},rollAll:function(t){var a=this,e=this;if(e.loadingFlag)return!1;if(0==e.sum_money)return e.$vux.toast.show({text:"Insufficient cash balance"}),!1;if(null==e.sum_money||isNaN(e.sum_money))return e.$vux.toast.show({text:"Please enter the correct transfer amount"}),!1;var l={};l.token=e.token,l.money=e.sum_money,l.type=1,l.game_plat_id=t,e.$http.post(this.urlRequest+"?m=api&c=game&a=transfer",l).then(function(t){e.$vux.toast.show({text:t.ret_msg}),0==t.status&&a._getGameList(1)})},submit:function(){var t=this,a=this;if(a.loadingFlag)return!1;var e={};e.token=a.token,e.money=a.rollNum;var l=a.rollIn[0];if("现金余额"==a.rollIn[0])e.type=2,l=a.rollOut[0];else if(e.type=1,l=a.rollIn[0],0==a.sum_money)return a.$vux.toast.show({text:"Insufficient cash balance"}),!1;if(null==a.rollNum||isNaN(a.rollNum))return a.$vux.toast.show({text:"Please enter the correct transfer amount"}),!1;for(var n=0;n<a.gameList.length;n++)a.gameList[n].game_name==l&&(e.game_plat_id=a.gameList[n].game_plat_id);a.loadingFlag=!0,a.$http.post(this.urlRequest+"?m=api&c=game&a=transfer",e).then(function(l){a.loadingFlag=!1,-1e4!=l.code&&(a.$vux.toast.show({text:l.ret_msg}),0==l.status&&(a.rollNum=null,t._getGameList(e.game_plat_id)))})}},watch:{rollData:function(){this.rollIn=[],this.rollIn.push(this.gameList[0].game_name)}}}),u={render:function(){var t=this,a=t.$createElement,l=t._self._c||a;return l("div",[l("div",{staticClass:"headerWrap"},[l("x-header",{staticClass:"header",attrs:{title:"额度转换"}})],1),t._v(" "),l("scroll",{ref:"scroll",staticClass:"scrollPanel"},[l("group",{staticClass:"group-min-top"},[l("cell",{attrs:{title:"总余额"}},[t._v(t._s(t.cash))]),t._v(" "),l("cell",{attrs:{title:"现金余额"}},[t._v(t._s(t.sum_money))]),t._v(" "),t._l(t.gameList,function(a,e){return l("cell",{key:e},[l("div",{attrs:{slot:"title"},slot:"title"},[l("span",[t._v(t._s(a.game_name))]),t._v(" "),l("x-button",{staticClass:"toGame",attrs:{mini:"",type:"warn"},nativeOn:{click:function(e){t.toGame(a.game_flag)}}},[t._v("进入游戏")])],1),t._v(" "),l("div",[l("span",[t._v(t._s(a.balance))]),t._v(" "),l("x-button",{attrs:{mini:"",type:"warn","show-loading":t.loadingFlag},nativeOn:{click:function(e){t.rollAll(a.game_plat_id)}}},[t._v("一键转入")]),t._v(" "),l("x-button",{attrs:{mini:"",type:"warn"},nativeOn:{click:function(e){t._getGameList(a.game_plat_id)}}},[t._v("刷新")])],1)])})],2),t._v(" "),l("group",{staticClass:"group-min-top"},[l("div",{staticClass:"conversion_box"},[l("div",{staticClass:"conversion_item"},[l("popup-picker",{attrs:{title:"从",data:t.rollData},on:{"on-change":t.rollOutFun},model:{value:t.rollOut,callback:function(a){t.rollOut=a},expression:"rollOut"}})],1),t._v(" "),l("span",{staticClass:"conversion_icon",on:{click:t.changeRoll}},[l("img",{attrs:{src:e("qmsK")}})]),t._v(" "),l("div",{staticClass:"conversion_item fr"},[l("popup-picker",{attrs:{title:"到",data:t.rollData},on:{"on-change":t.rollInFun},model:{value:t.rollIn,callback:function(a){t.rollIn=a},expression:"rollIn"}})],1)]),t._v(" "),l("cell",{staticClass:"inputNum",attrs:{title:"金额"}},[l("input",{directives:[{name:"model",rawName:"v-model",value:t.rollNum,expression:"rollNum"}],staticClass:"inputNum",attrs:{type:"number",placeholder:"0"},domProps:{value:t.rollNum},on:{input:function(a){a.target.composing||(t.rollNum=a.target.value)}}})])],1),t._v(" "),l("div",{staticClass:"handle"},[l("x-button",{attrs:{type:"warn","show-loading":t.loadingFlag},nativeOn:{click:function(a){return t.submit(a)}}},[t._v("提交")])],1)],1)],1)},staticRenderFns:[]};var c=e("vSla")(r,u,!1,function(t){e("1WAo")},"data-v-1cc7c0bc",null);a.default=c.exports},qmsK:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAADn0lEQVRoge2aX2gcRRjAfzO7t39yJVerKdEUX2pLsRUFlQpC1FqsQQXBF/WlFkElVFBbsBRfCoJIVVossako2gerBPqiglhQJOC9WEyhVlSIII1WuTZN8+fc3dsdHzYxPfB6M3t3rgf+3nZu2Pvx3bfffDN7gtGtXMbNwGPAA8AaQJAvCjgLfAocA04tfWBfNmkn8Brg/qtqzVkJbAKeA3YDh2BZ/BngzXy8tHFJHWvAYQlsBA7kqmTGAeBGCezgv5ceV8IFnpDA/XmbZGBIklaPbmNAkn/Jy4IlSWtlt6Fk3gZZ+V8cISCpQTAHKk6vO0h7xIWAYB5Uwtq+dTiWC0nclls3oj3if16CJOLlO57m64cPclvf+nSsg9jNp1wJAeEcPW4vI/e8yPZ19wJwtVeCOGqDXmNaE49DNq7ewMjgCwz2b/p7OIgjUIl5uggBQi8JsovHIcQ17rt+c500gGc5eAUfCr7RLROVECYROmuiYHTrRaBk9A3BLLbtsPf2J9lzy6P4dn2PNhPOE8WhdvSW+KbyI0PHh8Fb2WzqjFnElYLqNKUVfRwcfJ7t67f947SSUwSKRrcGWO1flaaYBvriKoFLU6wduJV3tuzhrv6bjMWaEcZ6aQK64kohEBx56A12bBjC6lBf1t+zqs0RFwKEoPz793z56ymmg7lW/BpyMZwDt1drrnaqKKV499sPtCOSCWmDZtS7tsnSjrgA7r5hC57ldESkzy9RjUPGfvgc7OZbYP2HU0q+eHB/q34NOR/M8vaZjxlLInT27kZ1fGq+wkDxmqxuDRn7eZzhr16nUvkJSmu0ctxI3LUKmeUa8erER7xUHqEWVaH3ug4sQMBvCxfMzVSCb/sUC17d8Gy0wO7yKEcmjqXVxDPrOox6FdcqIEwXn5kpdt45zP7NT9UNP3JiH8fPfAJOESwHwz27Wa8S1IK0XzEhqi4u5cuMTY5TPncanB6wCmQ5aDBrsoQ0P4URoq57fGXiQ/aW30oDUPDMA7FIizsgnW/w+GX2D84tTLPv5FEOnzyaRtr2M0tD1n7chMWH89qeVUxemEx/NdujxXMow348C9KiGs0zWTkPjp9WkBYivUTnxZVKZd0Vy9dtoGubrK4W78ZjZiGBzp7cdIZYAlN5W2TgrARO5G2Rgc8k8B4Q5ixiQgi8L4HTwK6cZUzYBXy3VA4PAc8CQX4+TQlIX9vXvRJncWAceBzYBgwA7d/ymNHwTwh/AQcMCuCfEcNlAAAAAElFTkSuQmCC"}});
//# sourceMappingURL=23.d658d5e764bc238c194f.js.map
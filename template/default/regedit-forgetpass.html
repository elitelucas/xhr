{template header}
  <!-- forgetpwd -->
  <link href="../../statics/resource/css/forgetpwd/forgetpwd.css" rel="stylesheet">
  
  <div class="container">
    <div class="forgetpwd-box">
      <div class="forgetpwd-title">修改新密码</div>
      <div class="forgetpwd-content">
        <form class="form-horizontal has-feedback" action="<?=url('','','forgetpass')?>" method="post" role="form">
          <div class="form-group has-feedback">
            <label for="inputEmail" class="col-sm-2 control-label">密码：</label>
            <div class="col-sm-4">
              <input type="password" name="password" class="form-control" id="password" placeholder="请输入登录密码">
              <span class="glyphicon form-control-feedback"></span>
            </div>
            <div class="help-block">请输入登录密码</div>
          </div>
          <div class="form-group has-feedback">
            <label for="inputUser" class="col-sm-2 control-label">确认密码：</label>
            <div class="col-sm-4">
              <input type="password" name="compassword" class="form-control" id="compassword" placeholder="请再次输入密码">
              <span class="glyphicon form-control-feedback"></span>
            </div>
            <div class="help-block">请再次输入密码</div>
          </div>
          <div class="form-group has-feedback">
            <label for="inputBtn_" class="col-sm-2 control-label"></label>
            <div class="col-sm-4">
              <input type="submit" class="btn btn-warning form-control" id="inputBtn_" value="找回密码">
            </div>
            <div class="help-block"></div>
          </div>
                        <input type='hidden' name='key' value='{$str_key}' >
                        <input type='hidden' name='save' value='save'>
                        <input type='hidden' name='formhash' value='<?=formhash()?>' >
        </form>
      </div>
    </div>
  </div>

<script type="text/javascript" src="../../statics/resource/js/jquery.validate.min.js"></script>
<script type="text/javascript">
$(function(){
	$("form").validate({
	    errorPlacement:function(error,element) {
			error.appendTo(element.parent().parent().children(".help-block"));
		},
		rules: {
			password: { 
				required: true, 
				minlength: 8, 
				maxlength: 20 
			}, 
			compassword: { 
				required: true, 
				equalTo: "[name='password']", 
				minlength: 8, 
				maxlength: 20 
			}
		}
	});
});
jQuery.extend(jQuery.validator.messages, {
    required: "必选字段",
	remote: "字段非法或者已经存在",
	email: "请输入正确格式的电子邮件",
	url: "请输入合法的网址",
	date: "请输入合法的日期",
	dateISO: "请输入合法的日期 (ISO).",
	number: "请输入合法的数字",
	digits: "只能输入整数",
	creditcard: "请输入合法的信用卡号",
	equalTo: "请再次输入相同的值",
	accept: "请输入拥有合法后缀名的字符串",
	maxlength: jQuery.validator.format("请输入一个 长度最多是 {0} 的字符串"),
	minlength: jQuery.validator.format("请输入一个 长度最少是 {0} 的字符串"),
	rangelength: jQuery.validator.format("请输入 一个长度介于 {0} 和 {1} 之间的字符串"),
	range: jQuery.validator.format("请输入一个介于 {0} 和 {1} 之间的值"),
	max: jQuery.validator.format("请输入一个最大为{0} 的值"),
	min: jQuery.validator.format("请输入一个最小为{0} 的值")
});
</script>
{template footer}
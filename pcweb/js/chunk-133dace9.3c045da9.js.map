{"version":3,"sources":["webpack:///./src/components/personalCenter/cardManager/cardManager.vue?bc5f","webpack:///./src/components/personalCenter/cardManager/cardManager.vue?e1c6","webpack:///src/components/personalCenter/cardManager/cardManager.vue","webpack:///./src/components/personalCenter/cardManager/cardManager.vue?6e9e","webpack:///./src/components/personalCenter/cardManager/cardManager.vue?13db","webpack:///./src/components/personalCenter/cardManager/cardManager.vue?9930"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","english","银行卡管理","directives","name","rawName","value","accountData","expression","userBankedData","bank_type","开户银行","bank","开户人姓名","cardInfo","银行账号","account","substring","length","replace","_e","is_banded_bank","您还没有绑定银行卡","on","bindNewCard","attrs","changCard","立即绑定","modification","binding","bindCardCancel","model","callback","$$v","bindCardShow","is_DepositBank","UnionPay","class","active","cardShow","$event","bindCard","银行卡","ref","cardForm","cardrule","持卡人","请输入持卡人姓名","$set","银行卡号","请输入银行卡号","发卡银行","手机号码","手机号码占位符","slot","bindcardOK","确定","bindcardCancle","取消","staticRenderFns","data","Error","test","is_setBank","Alipay","myNickname","citys","obj","citysObj","citysObj2","userAccounData","userData","cardOwner","cardNumber","cardOfBank","branchName","tel","computed","created","getUserIsBindCard","$http","post","then","methods","mychange","that","val","city","params","token","localStorage","getItem","urlRequest","wxShow","aliShow","res","status","list","forEach","valid","branch","mobile","ret_msg","Obj","watch","component"],"mappings":"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","file":"pcweb/js/chunk-133dace9.3c045da9.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cardManager.vue?vue&type=style&index=0&id=7622d8a8&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"public-title\"},[_vm._v(\" \"+_vm._s(_vm.english.银行卡管理))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.accountData.is_banded_bank),expression:\"accountData.is_banded_bank\"}],staticClass:\"bank-box clearfix\"},[_c('div',{staticClass:\"img-bank fl\"}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.userBankedData.bank_type!=1&&_vm.userBankedData.bank_type!=2)),expression:\"(userBankedData.bank_type!=1&&userBankedData.bank_type!=2)\"}],staticClass:\"fl bank-info\"},[_c('p',{staticClass:\"open-bank\"},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.english.开户银行))]),_c('span',{staticClass:\"word\"},[_vm._v(_vm._s(_vm.userBankedData.bank==\"未知\"?\"Unknown\":_vm.userBankedData.bank))])]),_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.english.开户人姓名))]),_c('span',{staticClass:\"word\"},[_vm._v(_vm._s(_vm.cardInfo.name))])]),_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.english.银行账号))]),(_vm.cardInfo.account)?_c('span',{staticClass:\"word\"},[_vm._v(\"\\n          \"+_vm._s((_vm.cardInfo.account.substring(0, _vm.cardInfo.account.length-4).replace(/[\\w]/g, '*') + _vm.cardInfo.account.substring(_vm.cardInfo.account.length-4, _vm.cardInfo.account.length)).replace(/\\s/g,'').replace(/(.{4})/g,'$1 '))+\"\\n        \")]):_vm._e()])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.accountData.is_banded_bank),expression:\"!accountData.is_banded_bank\"}],staticClass:\"no-bind\"},[_c('p',[_vm._v(_vm._s(_vm.english.您还没有绑定银行卡)+\"， \"),_c('span',{staticClass:\"bth pink-bth\",on:{\"click\":_vm.bindNewCard}},[_c('Button',{attrs:{\"type\":\"error\"},on:{\"click\":_vm.changCard}},[_vm._v(_vm._s(_vm.english.立即绑定))])],1)])]),_c('Modal',{staticClass:\"mySelf\",attrs:{\"title\":_vm.accountData.is_banded_bank?_vm.modification:_vm.binding,\"width\":\"490\"},on:{\"on-cancel\":_vm.bindCardCancel},model:{value:(_vm.bindCardShow),callback:function ($$v) {_vm.bindCardShow=$$v},expression:\"bindCardShow\"}},[_c('div',{staticClass:\"outerBox\"},[_c('div',{staticClass:\"input-box \"},[_c('div',{staticClass:\"lableStyle bank-infol\"},[_vm._v(_vm._s(_vm.english.开户银行))]),_c('div',{staticClass:\"list-box\"},[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.is_DepositBank.UnionPay==1),expression:\"is_DepositBank.UnionPay==1\"}],class:{active:_vm.cardShow},on:{\"click\":function($event){return _vm.bindCard('ali','wx')}}},[_c('span',{staticClass:\"icon icon-bank\"}),_vm._v(_vm._s(_vm.english.银行卡))])])]),_c('Form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cardShow),expression:\"cardShow\"}],ref:\"card\",attrs:{\"model\":_vm.cardForm,\"rules\":_vm.cardrule,\"label-width\":130,\"label-position\":\"right\"}},[_c('FormItem',{attrs:{\"label\":_vm.english.持卡人,\"prop\":\"cardOwner\"}},[_c('Input',{attrs:{\"type\":\"text\",\"disabled\":_vm.userBankedData.name?true:false,\"placeholder\":_vm.english.请输入持卡人姓名},model:{value:(_vm.cardForm.cardOwner),callback:function ($$v) {_vm.$set(_vm.cardForm, \"cardOwner\", $$v)},expression:\"cardForm.cardOwner\"}})],1),_c('FormItem',{attrs:{\"label\":_vm.english.银行卡号,\"prop\":\"cardNumber\"}},[_c('Input',{attrs:{\"type\":\"text\",\"maxlength\":19,\"placeholder\":_vm.english.请输入银行卡号},model:{value:(_vm.cardForm.cardNumber),callback:function ($$v) {_vm.$set(_vm.cardForm, \"cardNumber\", $$v)},expression:\"cardForm.cardNumber\"}})],1),_c('FormItem',{attrs:{\"label\":_vm.english.发卡银行,\"prop\":\"cardOfBank\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"Please input bank name\"},model:{value:(_vm.cardForm.cardOfBank),callback:function ($$v) {_vm.$set(_vm.cardForm, \"cardOfBank\", $$v)},expression:\"cardForm.cardOfBank\"}})],1),_c('FormItem',{attrs:{\"label\":\"Branch name\",\"prop\":\"branchName\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"Please input branch name\"},model:{value:(_vm.cardForm.branchName),callback:function ($$v) {_vm.$set(_vm.cardForm, \"branchName\", $$v)},expression:\"cardForm.branchName\"}})],1),_c('FormItem',{attrs:{\"label\":_vm.english.手机号码,\"prop\":\"tel\"}},[_c('Input',{attrs:{\"type\":\"text\",\"maxlength\":11,\"placeholder\":_vm.english.手机号码占位符},model:{value:(_vm.cardForm.tel),callback:function ($$v) {_vm.$set(_vm.cardForm, \"tel\", $$v)},expression:\"cardForm.tel\"}})],1)],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cardShow),expression:\"cardShow\"}],attrs:{\"slot\":\"footer\",\"align\":\"center\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"error\"},on:{\"click\":function($event){return _vm.bindcardOK('card')}}},[_vm._v(_vm._s(_vm.english.确定))]),_c('Button',{on:{\"click\":function($event){return _vm.bindcardCancle('card')}}},[_vm._v(_vm._s(_vm.english.取消))])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h2 class=\"public-title\"> {{english.银行卡管理}}</h2>\r\n    <div class=\"bank-box clearfix\" v-show=\"accountData.is_banded_bank\">\r\n      <div class=\"img-bank fl\"></div>\r\n      <!-- 银行卡 -->\r\n      <div class=\"fl bank-info\" v-show=\"(userBankedData.bank_type!=1&&userBankedData.bank_type!=2)\">\r\n        <p class=\"open-bank\"><span class=\"title\">{{english.开户银行}}</span><span class=\"word\">{{userBankedData.bank==\"未知\"?\"Unknown\":userBankedData.bank}}</span>\r\n        </p>\r\n        <!-- <p><span class=\"title\">支行名称</span><span class=\"word\">{{cardInfo.branch}}</span></p> -->\r\n        <p>\r\n          <span class=\"title\">{{english.开户人姓名}}</span><span class=\"word\">{{cardInfo.name}}</span>\r\n        </p>\r\n        <p>\r\n          <span class=\"title\">{{english.银行账号}}</span>\r\n          <span class=\"word\" v-if=\"cardInfo.account\">\r\n            {{(cardInfo.account.substring(0, cardInfo.account.length-4).replace(/[\\w]/g, '*') + cardInfo.account.substring(cardInfo.account.length-4, cardInfo.account.length)).replace(/\\s/g,'').replace(/(.{4})/g,'$1 ')}}\r\n          </span>\r\n        </p>\r\n      </div>\r\n      <!-- 微信 -->\r\n      <!-- <div class=\"fl bank-info\" v-show=\"userBankedData.bank_type==1\">\r\n        <p class=\"open-bank\"><span class=\"title\">开户银行</span><span class=\"word\">{{userBankedData.bank}}</span>\r\n        </p>\r\n        <p>\r\n          <span class=\"title\">微信账号</span>\r\n          <span class=\"word\" v-if=\"cardInfo.account\">\r\n            {{(cardInfo.account.substring(0, cardInfo.account.length-4).replace(/[\\w]/g, '*') + cardInfo.account.substring(cardInfo.account.length-4, cardInfo.account.length)).replace(/\\s/g,'')}}\r\n          </span>\r\n        </p>\r\n        <p>\r\n          <span class=\"title\">微信昵称</span><span class=\"word\">{{myNickname}}</span>\r\n        </p>\r\n        <p>\r\n          <span class=\"title\">真实姓名</span><span class=\"word\">{{cardInfo.name}}</span>\r\n        </p>\r\n      </div> -->\r\n      <!-- 支付宝 -->\r\n      <!-- <div class=\"fl bank-info\" v-show=\"userBankedData.bank_type==2\">\r\n        <p class=\"open-bank\"><span class=\"title\">开户银行</span><span class=\"word\">{{userBankedData.bank}}</span>\r\n        </p>\r\n        <p>\r\n          <span class=\"title\">支付宝账号</span>\r\n          <span class=\"word\" v-if=\"cardInfo.account\">\r\n            {{(cardInfo.account.substring(0, cardInfo.account.length-4).replace(/[\\w]/g, '*') + cardInfo.account.substring(cardInfo.account.length-4, cardInfo.account.length)).replace(/\\s/g,'')}}\r\n          </span>\r\n        </p>\r\n        <p>\r\n          <span class=\"title\">支付宝昵称</span><span class=\"word\">{{myNickname}}</span>\r\n        </p>\r\n        <p>\r\n          <span class=\"title\">真实姓名</span><span class=\"word\">{{cardInfo.name}}</span>\r\n        </p>\r\n      </div> -->\r\n      <!-- <div class=\"pink-bth\" >\r\n        <Button :disabled=\"is_setBank\"  @click=\"changCard\" type=\"error\">更换银行卡</Button>\r\n      </div> -->\r\n    </div>\r\n    <div class=\"no-bind\" v-show=\"!accountData.is_banded_bank\">\r\n      <p>{{english.您还没有绑定银行卡}}， <span class=\"bth pink-bth\" @click=\"bindNewCard\"><Button @click=\"changCard\" type=\"error\">{{english.立即绑定}}</Button></span></p>\r\n    </div>\r\n    <!-- 绑定银行卡 -->\r\n    <!-- 绑定银行卡 -->\r\n    <Modal :title=\"accountData.is_banded_bank?modification:binding\"  v-model=\"bindCardShow\" class=\"mySelf\" width=\"490\" @on-cancel=\"bindCardCancel\">\r\n      <div class=\"outerBox\">\r\n        <div class=\"input-box \" >\r\n        <div class=\"lableStyle bank-infol\">{{english.开户银行}}</div>\r\n        <div class=\"list-box\">\r\n          <!-- <p v-show=\"is_DepositBank.WeChat==1\" :class=\"{active:wxShow}\" @click=\"bindwx('ali','card')\"><span class=\"icon icon-wx\"></span>微信</p>\r\n          <p v-show=\"is_DepositBank.Alipay==1 \" :class=\"{active:aliShow}\" @click=\"bindali('wx','card')\"><span class=\"icon icon-zfb\"></span>支付宝</p> -->\r\n          <p v-show=\"is_DepositBank.UnionPay==1\" :class=\"{active:cardShow}\" @click=\"bindCard('ali','wx')\"><span class=\"icon icon-bank\"></span>{{english.银行卡}}</p>\r\n        </div>\r\n      </div>\r\n      <!-- 绑定微信 -->\r\n      <!-- <Form ref=\"wx\" :model=\"wxForm\" :rules=\"wxrule\" :label-width=\"100\" label-position=\"right\" v-show=\"wxShow\">\r\n        <FormItem label=\"微信账号\" prop=\"wxAccount\">\r\n          <Input type=\"text\" v-model=\"wxForm.wxAccount\" placeholder=\"请输入微信账号\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"昵称\" prop=\"wxNickname\">\r\n          <Input type=\"text\" v-model=\"wxForm.wxNickname\" placeholder=\"请输入微信昵称\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"真实姓名\" prop=\"wxName\" class=\"hideBox\">\r\n          <Input type=\"text\" v-model=\"wxForm.wxName\" :disabled=\"userBankedData.name?true:false\" placeholder=\"请输入真实姓名\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"手机号码\" prop=\"tel\">\r\n          <Input type=\"text\" v-model=\"wxForm.tel\" :maxlength=\"11\" placeholder=\"请输入手机号码\"></Input>\r\n        </FormItem>\r\n      </Form> -->\r\n      <!-- 绑定支付宝 -->\r\n      <!-- <Form ref=\"ali\" :model=\"aliForm\" :rules=\"alirule\" :label-width=\"100\" label-position=\"right\" v-show=\"aliShow\">\r\n        <FormItem label=\"支付宝账号\" prop=\"aliAccount\">\r\n          <Input type=\"text\" v-model=\"aliForm.aliAccount\" placeholder=\"请输入支付宝账号\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"昵称\" prop=\"aliNickname\">\r\n          <Input type=\"text\" v-model=\"aliForm.aliNickname\" placeholder=\"请输入支付宝昵称\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"真实姓名\" prop=\"aliName\">\r\n          <Input type=\"text\" v-model=\"aliForm.aliName\" :disabled=\"userBankedData.name?true:false\" placeholder=\"请输入真实姓名\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"手机号码\" prop=\"tel\">\r\n          <Input type=\"text\" v-model=\"aliForm.tel\" :maxlength=\"11\" placeholder=\"请输入手机号码\"></Input>\r\n        </FormItem>\r\n      </Form> -->\r\n      <!--绑定银行卡 -->\r\n        <Form ref=\"card\" :model=\"cardForm\" :rules=\"cardrule\" :label-width=\"130\" label-position=\"right\" v-show=\"cardShow\">\r\n        <FormItem :label=\"english.持卡人\" prop=\"cardOwner\">\r\n          <Input type=\"text\" v-model=\"cardForm.cardOwner\" :disabled=\"userBankedData.name?true:false\" :placeholder=\"english.请输入持卡人姓名\"></Input>\r\n        </FormItem>\r\n        <FormItem :label=\"english.银行卡号\" prop=\"cardNumber\">\r\n          <Input type=\"text\" v-model=\"cardForm.cardNumber\" :maxlength=\"19\" :placeholder=\"english.请输入银行卡号\"></Input>\r\n        </FormItem>\r\n        <FormItem :label=\"english.发卡银行\" prop=\"cardOfBank\">\r\n          <Input type=\"text\" v-model=\"cardForm.cardOfBank\" placeholder=\"Please input bank name\"></Input>\r\n        </FormItem>\r\n        <!-- <FormItem :label=\"english.支行银行\" prop=\"branchOfBank\">\r\n          <Row>\r\n            <Col span=\"11\">\r\n              <Select @on-change=\"mychange\" type=\"text\" placeholder=\"Please select\" v-model=\"citys\">\r\n                <Option  :value=\"d.name\" v-for=\"(d,index) in citysObj\" :key=\"index\">{{d.name}}</Option>\r\n              </Select>\r\n            </Col>\r\n            <Col span=\"1\">&nbsp</Col>\r\n            <Col span=\"12\">\r\n              <Select type=\"text\" placeholder=\"Please select\" v-model=\"cardForm.branchOfBank\">\r\n                <Option :value=\"d.name\" v-for=\"(d,index) in citysObj2\" :key=\"index\">{{d.name}}</Option>\r\n              </Select>\r\n            </Col>\r\n          </Row>\r\n        </FormItem> -->\r\n        <FormItem label=\"Branch name\" prop=\"branchName\">\r\n          <Input type=\"text\" v-model=\"cardForm.branchName\" placeholder=\"Please input branch name\"></Input>\r\n        </FormItem>\r\n        <FormItem :label=\"english.手机号码\" prop=\"tel\">\r\n          <Input type=\"text\" v-model=\"cardForm.tel\" :maxlength=\"11\" :placeholder=\"english.手机号码占位符\"></Input>\r\n        </FormItem>\r\n      </Form>\r\n      </div>\r\n      <!-- <div slot=\"footer\" align=\"center\" v-show=\"wxShow\">\r\n        <Button type=\"error\" @click=\"bindwxOK('wx')\">确定</Button>\r\n        <Button @click=\"bindwxCancle('wx')\">取消</Button>\r\n      </div>\r\n      <div slot=\"footer\" align=\"center\" v-show=\"aliShow\">\r\n        <Button type=\"error\" @click=\"bindaliOK('ali')\">确定</Button>\r\n        <Button @click=\"bindaliCancle('ali')\">取消</Button>\r\n      </div> -->\r\n      <div slot=\"footer\" align=\"center\" v-show=\"cardShow\">\r\n        <Button type=\"error\" @click=\"bindcardOK('card')\">{{english.确定}}</Button>\r\n        <Button @click=\"bindcardCancle('card')\">{{english.取消}}</Button>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { jsonToString } from \"@/common/js/jsonToString\";\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport appData from '../../../assets/json/citys.json';\r\nimport english from '../../../assets/json/English.json';\r\n\r\nexport default {\r\n  data() {\r\n    // 绑定微信校验\r\n    // const checkwxAccount = (rule, value, callback) => {\r\n    //   if (rule.required && !value) {\r\n    //     callback(new Error(\"微信不能为空\"));\r\n    //   } else if (!/^[a-zA-Z0-9_-]{3,30}$/.test(value)) {\r\n    //     callback(new Error(\"输入的微信格式错误！\"));\r\n    //   } else {\r\n    //     callback();\r\n    //   }\r\n    // };\r\n    // const checkwxNickName = (rule, value, callback) => {\r\n    //   if (value === \"\") {\r\n    //     callback(new Error(\"微信昵称不能为空\"));\r\n    //   } else {\r\n    //     callback();\r\n    //   }\r\n    // };\r\n    // const checkName = (rule, value, callback) => {\r\n    //   if (value === \"\") {\r\n    //     callback(new Error(\"真实姓名不能为空\"));\r\n    //   }else {\r\n    //     callback();\r\n    //   }\r\n    // };\r\n    // const checkTel = (rule, value, callback) => {\r\n    //   if (value === \"\") {\r\n    //     callback(new Error(\"手机号码不能为空\"));\r\n    //   } else if (!/^[0-9]{11}$/.test(value)) {\r\n    //     callback(new Error(\"输入的手机号码格式错误！\"));\r\n    //   } else {\r\n    //     callback();\r\n    //   }\r\n    // };\r\n    //绑定支付宝校验\r\n    // const checkaliAccount = (rule, value, callback) => {\r\n    //   if (rule.required && !value) {\r\n    //     callback(new Error(\"支付宝账号不能为空\"));\r\n    //   } else if (!/^[a-zA-Z0-9_-]{3,30}$/.test(value)) {\r\n    //     callback(new Error(\"输入的支付宝格式错误！\"));\r\n    //   } else {\r\n    //     callback();\r\n    //   }\r\n    // };\r\n    // const checkaliNickName = (rule, value, callback) => {\r\n    //   if (value === \"\") {\r\n    //     callback(new Error(\"支付宝昵称不能为空\"));\r\n    //   } else {\r\n    //     callback();\r\n    //   }\r\n    // };\r\n    //绑定银行卡校验\r\n    const checkCardOwner = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(english.真实姓名+\" \"+english.不能+\" \"+english.为空));\r\n      }else {\r\n        callback();\r\n      }\r\n    };\r\n    const checkCardNumber = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(english.请输入银行卡号));\r\n      } else if (!/^([1-9]{1})(\\d+)$/.test(value)) {\r\n\t\t\t\t// callback();\r\n        callback(new Error(english.请输入位卡号));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    const checkCardOfBank = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"Please input the bank card\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    // const checkBranchOfBank = (rule, value, callback) => {\r\n    //   if (value === \"\") {\r\n    //     callback(new Error(\"请选择发卡省市\"));\r\n    //   } else {\r\n    //     callback();\r\n    //   }\r\n    // };\r\n    const checkBranchName = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"Please input branch name\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    const checkTelephoneNumber = (rule, value, callback) => {\r\n      if (value !== \"\" && !/^[0-9]+$/.test(value)) {\r\n        callback(new Error(english.输入的手机号码格式错误+\"！\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      english: english,\r\n      modification: english.修改银行卡,\r\n      binding: english.绑定银行卡,\r\n      is_setBank:false,\r\n      Alipay:\"\",\r\n      is_DepositBank:[],//开户银行显示\r\n      myNickname:\"\",\r\n      citys:[],\r\n      obj:[],\r\n      citysObj:[],\r\n      citysObj2:[],\r\n      userAccounData: {},\r\n      userBankedData: {},\r\n      cardInfo: {},\r\n      userData: \"\",\r\n      bindCardShow: false,\r\n      // 绑定微信\r\n      // wxShow: false,\r\n      // wxForm: {\r\n      //   wxAccount: \"\",\r\n      //   wxNickname: \"\",\r\n      //   wxName: \"\",\r\n      //   tel: \"\",\r\n      // },\r\n      // wxrule: {\r\n      //   wxAccount: [{ required: true, validator: checkwxAccount, trigger: \"blur\" }],\r\n      //   wxNickname: [{ required: true, validator: checkwxNickName, trigger: \"blur\" }],\r\n      //   wxName: [{ required: true, validator: checkName, trigger: \"blur\" }],\r\n      //   tel: [{ required: true, validator: checkTel, trigger: \"blur\" }]\r\n      // },\r\n      //绑定支付宝\r\n      // aliShow: false,\r\n      // aliForm: {\r\n      //   aliAccount: \"\",\r\n      //   aliNickname: \"\",\r\n      //   aliName: \"\",\r\n      //   tel: \"\"\r\n      // },\r\n      // alirule: {\r\n      //   aliAccount: [{ required: true, validator: checkaliAccount, trigger: \"blur\" }],\r\n      //   aliNickname: [{ required: true, validator: checkaliNickName, trigger: \"blur\" }],\r\n      //   aliName: [{ required: true, validator: checkName, trigger: \"blur\" }],\r\n      //   tel: [{ required: true, validator: checkTel, trigger: \"blur\" }]\r\n      // },\r\n      //绑定银行卡\r\n      cardShow: false,\r\n      cardForm: {\r\n        cardOwner: \"\",\r\n        cardNumber: \"\",\r\n        cardOfBank: \"\",\r\n        // branchOfBank: \"\",\r\n        branchName: \"\",\r\n        tel: \"\"\r\n      },\r\n      cardrule: {\r\n        cardOwner: [{ required: true, validator: checkCardOwner, trigger: \"blur\" }],\r\n        cardNumber: [{ required: true, validator: checkCardNumber, trigger: \"blur\" }],\r\n        cardOfBank: [{ required: true, validator: checkCardOfBank, trigger: \"blur\" }],\r\n        // branchOfBank: [{ required: true, validator: checkBranchOfBank, trigger: \"blur\" }],\r\n        branchName: [{ required: true, validator: checkBranchName, trigger: \"blur\" }],\r\n        tel: [{ validator: checkTelephoneNumber, trigger: \"blur\" }]\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"bankedData\", \"accountData\", \"userInfo\"])\r\n  },\r\n  created() {\r\n    this.getUserIsBindCard();\r\n    this.userAccounData = this.accountData;\r\n    this.$http.post(\"?m=api&c=bank&a=getConfigBanks\").then(res=>{\r\n      this.obj = res.data.list\r\n    })\r\n    this.citysObj = appData\r\n    this.$http.post('?m=api&c=bank&a=switchCardType').then(res=>{\r\n      this.is_DepositBank = res.data.data;\r\n      if (this.is_DepositBank.WeChat == 1) {\r\n        // this.wxShow = true;\r\n      } else if (this.is_DepositBank.Alipay == 1) {\r\n        // this.aliShow = true;\r\n      } else {\r\n        this.cardShow = true;\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    ...mapActions([\"SET_BANKED_DATA\", \"SET_ACCOUNT_DATA\", \"SET_USER_INFO_DATA\"]),\r\n    bindCardCancel() { //关闭清空数据\r\n      // if (this.wxShow) {\r\n      //   this.wxForm.wxAccount = ''\r\n      //   this.wxForm.wxNickname = ''\r\n      //   this.wxForm.tel = ''\r\n      //   return\r\n      // }\r\n      // if (this.aliShow) {\r\n      //   this.aliForm.aliAccount = ''\r\n      //   this.aliForm.aliNickname = ''\r\n      //   this.aliForm.tel = ''\r\n      //   return\r\n      // }\r\n      if (this.cardShow) {\r\n        this.cardForm.cardNumber = ''\r\n        this.cardForm.cardOfBank = ''\r\n        this.citys = ''\r\n        // this.cardForm.branchOfBank = ''\r\n        this.cardForm.branchName = ''\r\n        this.cardForm.tel = ''\r\n        return\r\n      }      \r\n    },\r\n    //获取绑定银行卡信息银行卡信息\r\n    mychange(){\r\n      this.citysObj2 = []\r\n      var that = this;\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tappData.forEach((val,i) => {\r\n          if(that.citys == val.name){\r\n            that.citysObj2 = val.city\r\n          }\r\n        });\r\n\t\t\t}, 20)\r\n    },\r\n    getUserIsBindCard: function() {\r\n      var params = {\r\n        token: localStorage.getItem(\"token\")\r\n      };\r\n      var that = this;\r\n      this.$http.post(this.urlRequest + \"?m=api&c=bank&a=getUserBank\", jsonToString(params)).then(res => {\r\n          if (res.data.is_setBank !== 0) {\r\n            this.is_setBank = false\r\n          } else {\r\n            this.is_setBank = true\r\n          }\r\n          that.userBankedData = res.data;\r\n          if (res.data.name) {\r\n            // this.wxForm.wxName = res.data.name\r\n            // this.aliForm.aliName = res.data.name\r\n            this.cardForm.cardOwner = res.data.name\r\n          }\r\n          that.cardInfo = res.data;\r\n          if (that.userBankedData.bank_type == 1 || that.userBankedData.bank_type == 2) {\r\n            // that.myNickname = JSON.parse(that.cardInfo.branch).nickname;\r\n          }\r\n          localStorage.setItem(\"bankedData\", JSON.stringify(res.data));\r\n          that.SET_BANKED_DATA({\r\n            obj: res.data\r\n          });\r\n        });\r\n      // }\r\n    },\r\n    bindNewCard: function() {\r\n      this.bindCardShow = true;\r\n    },\r\n    // bindwx: function(item1,item2) {\r\n    //   this.bindCardCancel()\r\n    //   this.wxShow = true;\r\n    //   this.aliShow = false;\r\n    //   this.cardShow = false;\r\n    // },\r\n    // bindali: function(item1,item2) {\r\n    //   this.bindCardCancel()\r\n    //   this.wxShow = false;\r\n    //   this.aliShow = true;\r\n    //   this.cardShow = false;\r\n    // },\r\n    bindCard: function(item1,item2) {\r\n      this.bindCardCancel()\r\n      this.wxShow = false;\r\n      this.aliShow = false;\r\n      this.cardShow = true;\r\n    },\r\n    //确定绑定微信\r\n    // bindwxOK(wx) {\r\n    //   var that = this\r\n    //   this.$refs[wx].validate(valid => {\r\n    //     if (valid) {\r\n    //       var params = {\r\n    //         token: localStorage.getItem(\"token\"),\r\n    //         name: this.wxForm.wxName,\r\n    //         account: this.wxForm.wxAccount,\r\n    //         nickname: this.wxForm.wxNickname,\r\n    //         mobile: this.wxForm.tel,\r\n    //         flag_b: 1\r\n    //       };\r\n    //       this.$http.post(this.urlRequest + \"?m=api&c=bank&a=bindWeChatAndAlipay\",jsonToString(params)).then(res => {\r\n    //         console.log(res);\r\n    //         if (res.data.ret_msg == 0) {\r\n    //           that.bindCardShow = false;\r\n    //           that.$Message.success(\"绑定微信成功！\");\r\n    //           that.userAccounData.is_banded_bank = \"1\";\r\n    //           this.bindCardCancel();\r\n    //           let temp = this.userInfo;\r\n    //           temp[\"realname\"] = this.wxForm.wxName;\r\n    //           this.SET_USER_INFO_DATA({\r\n    //               Obj: temp\r\n    //           });\r\n    //           that.SET_ACCOUNT_DATA({\r\n    //             Obj: that.userAccounData\r\n    //           });\r\n    //           that.getUserIsBindCard();\r\n    //         } else {\r\n    //           that.$Message.error(res.data.ret_msg);\r\n    //         }\r\n    //       });\r\n    //     }\r\n    //   });\r\n    // },\r\n    //取消绑定微信\r\n    // bindwxCancle(wx) {\r\n    //   this.bindCardCancel()\r\n    //   this.bindCardShow = false;\r\n    // },\r\n    // 确定绑定支付宝\r\n    // bindaliOK(ali) {\r\n    //   this.$refs[ali].validate(valid => {\r\n    //     if (valid) {\r\n    //       var params = {\r\n    //         token: localStorage.getItem(\"token\"),\r\n    //         name: this.aliForm.aliName,\r\n    //         account: this.aliForm.aliAccount,\r\n    //         nickname: this.aliForm.aliNickname,\r\n    //         mobile: this.aliForm.tel,\r\n    //         flag_b: 2\r\n    //       };\r\n    //       this.$http.post(this.urlRequest + \"?m=api&c=bank&a=bindWeChatAndAlipay\",jsonToString(params)).then(res => {\r\n    //         if (res.data.ret_msg == 0) {\r\n    //           this.bindCardShow = false;\r\n    //           this.$Message.success(\"绑定支付宝成功！\");\r\n    //           this.userAccounData.is_banded_bank = \"1\";\r\n    //           this.bindCardCancel();\r\n    //           let temp = this.userInfo;\r\n    //           temp[\"realname\"] = this.aliForm.aliName;\r\n    //           this.SET_USER_INFO_DATA({\r\n    //               Obj: temp\r\n    //           });\r\n    //           this.SET_ACCOUNT_DATA({\r\n    //             Obj: this.userAccounData\r\n    //           });\r\n    //           this.getUserIsBindCard();\r\n    //         } else {\r\n    //           this.$Message.error(res.data.ret_msg);\r\n    //         }\r\n    //       });\r\n    //     }\r\n    //   });\r\n    // },\r\n    //取消绑定支付宝\r\n    // bindaliCancle(ali) {\r\n    //   this.bindCardCancel()\r\n    //   this.bindCardShow = false;\r\n    // },\r\n    //确定绑定银行卡\r\n    bindcardOK(card) {\r\n      this.$http.post(\"?m=api&c=bank&a=getConfigBanks\").then(res => {\r\n        if (res.data.status == 0) {\r\n          res.data.list.forEach(val => {\r\n            if (val.name == this.cardForm.cardOfBank) {\r\n              // this.cardForm.cardOfBank = val.id\r\n            }\r\n          });\r\n          this.$refs[card].validate(valid => {\r\n            if (valid) {\r\n              var params = {\r\n                cardForm: {\r\n                  cardOwner: \"\",\r\n                  cardNumber: \"\",\r\n                  cardOfBank: \"\",\r\n                  // branchOfBank: \"\",\r\n                  branchName: \"\",\r\n                  tel: \"\"\r\n                },\r\n                token: localStorage.getItem(\"token\"),\r\n                name: this.cardForm.cardOwner,\r\n                account: this.cardForm.cardNumber,\r\n                bank: this.cardForm.cardOfBank,\r\n                // branch: this.citys + ' ' + this.cardForm.branchOfBank + ' ' + this.cardForm.branchName,\r\n                branch: this.cardForm.branchName,\r\n                mobile: this.cardForm.tel\r\n              };\r\n              this.$http.post(this.urlRequest + \"?m=api&c=bank&a=bank\", jsonToString(params)).then(res => {\r\n                if (res.data.ret_msg == 0) {\r\n                  this.bindCardShow = false;\r\n                  this.$Message.success(english.绑定银行卡成功+\"!\");\r\n                  this.userAccounData.is_banded_bank = \"1\";\r\n                  this.bindCardCancel();\r\n                  let temp = this.userInfo;\r\n\t\t\t\t\t        temp[\"realname\"] = this.cardForm.cardOwner\r\n                  this.SET_USER_INFO_DATA({\r\n                      Obj: temp\r\n                  });\r\n                  this.SET_ACCOUNT_DATA({\r\n                    Obj: this.userAccounData\r\n                  });\r\n                  this.getUserIsBindCard();\r\n                } else {\r\n                  this.$Message.error(res.data.ret_msg);\r\n                }\r\n              });\r\n            }\r\n          });\r\n        } else {\r\n          this.$Message.error(res.data.ret_msg);\r\n        }\r\n      })\r\n    },\r\n    //取消绑定银行卡\r\n    bindcardCancle(card) {\r\n      this.bindCardCancel()\r\n      this.bindCardShow = false;\r\n    },\r\n    //更换银行卡\r\n    changCard: function() {\r\n      this.bindCardShow = true;\r\n    }\r\n  },\r\n  watch: {\r\n    '$route'(){\r\n      this.getUserIsBindCard();\r\n      this.userAccounData = this.accountData;\r\n      this.$http.post(\"?m=api&c=bank&a=getConfigBanks\").then(res=>{\r\n        this.obj = res.data.list\r\n      })\r\n      this.citysObj = appData\r\n      this.$http.post('?m=api&c=bank&a=switchCardType').then(res=>{\r\n        this.is_DepositBank = res.data.data\r\n        if (this.is_DepositBank.WeChat == 1) {\r\n          // this.wxShow = true;\r\n        } else if (this.is_DepositBank.Alipay == 1) {\r\n          // this.aliShow = true;\r\n        } else {\r\n          this.cardShow = true;\r\n        }\r\n      })\r\n    },\r\n    citys(val) {\r\n      // if (val) {\r\n      //   this.citysObj2 = '';\r\n      // }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.fixed-pas {\r\n  width: 500px;\r\n}\r\n.ivu-form .ivu-form-item-label {\r\n  font-size: 14px;\r\n}\r\n.input-box {\r\n  width: 394px;\r\n}\r\n.input-box .lableStyle {\r\n  width: 140px !important;\r\n  margin-right: 12px;\r\n  height: 34px;\r\n  line-height: 34px;\r\n  padding-right: 0px;\r\n  font-size: 15px !important;\r\n  text-align: right;\r\n}\r\n.list-box {\r\n  width: 314px;\r\n}\r\n.list-box p {\r\n  float: left;\r\n  font-size: 15px;\r\n  height: 34px;\r\n  line-height: 34px;\r\n  border-radius: 1px;\r\n  padding: 0 9px;\r\n  background-color: #ffffff;\r\n  box-shadow: 0 1px 1px 0 rgba(255, 255, 255, 0.11);\r\n  border: solid 1px #e6e3da;\r\n  cursor: pointer;\r\n}\r\n.list-box p {\r\n  margin-right: 9px;\r\n}\r\n.input-box {\r\n  display: flex;\r\n}\r\n.outerBox {\r\n  padding: 18px 26px 0 26px;\r\n}\r\n\r\n.icon-wx {\r\n  display: inline-block;\r\n  width: 18px;\r\n  height: 18px;\r\n  background: url(\"../../../assets//images/spirt.png\") no-repeat -29px -190px;\r\n  margin: 0 5px;\r\n}\r\n.icon-zfb {\r\n  display: inline-block;\r\n  width: 18px;\r\n  height: 18px;\r\n  background: url(\"../../../assets//images/spirt.png\") no-repeat -29px -167px;\r\n  margin: 0 5px;\r\n}\r\n.icon-bank {\r\n  display: inline-block;\r\n  width: 18px;\r\n  height: 18px;\r\n  background: url(\"../../../assets//images/spirt.png\") no-repeat -29px -215px;\r\n  margin: 0 5px;\r\n}\r\np.active {\r\n  border: 1px solid #4a90e2;\r\n}\r\n</style>\r\n<style>\r\n.ivu-form .ivu-form-item-label {\r\n  /* font-size: 15px !important; */\r\n}\r\n.ivu-modal-header p,\r\n.ivu-modal-header-inner {\r\n  font-size: 16px;\r\n}\r\n.pink-bth {\r\n  cursor: pointer;\r\n}\r\n.activeStyle:hover {\r\n  color: #f3596a !important;\r\n}\r\n</style>\r\n\r\n<style>\r\n\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n// WEBPACK FOOTER //\r\n// src/components/PersonalCenter/cardManager/cardManager.vue","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cardManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cardManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cardManager.vue?vue&type=template&id=7622d8a8&scoped=true&\"\nimport script from \"./cardManager.vue?vue&type=script&lang=js&\"\nexport * from \"./cardManager.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cardManager.vue?vue&type=style&index=0&id=7622d8a8&scoped=true&lang=css&\"\nimport style1 from \"./cardManager.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7622d8a8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cardManager.vue?vue&type=style&index=1&lang=css&\""],"sourceRoot":""}
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4549117a"],{"0ee4":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:t.VueTitle,expression:"VueTitle"}]},[e("div",{staticClass:"main-content-wrap clearfix"},[e("div",{staticClass:"w-1200 clearfix"},[e("div",{staticClass:"actCenter"},[e("h2",{staticClass:"public-title"},[t._v(t._s(t.english.活动中心)+"\n                    "),e("div",{staticClass:"tab"},t._l(t.menuData,(function(a,n){return e("a",{key:n,class:{active:n==t.menuIndex},attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeMenu(a.type,n)}}},[t._v(t._s(a.name))])})),0)]),t.loading?e("div",{staticClass:"contentLoad"},[e("Spin",{attrs:{fix:"",size:"large"}})],1):[t.actListData.length?[e("div",{staticClass:"list-wrapper clearfix"},[e("ul",t._l(t.actListData,(function(a,n){return e("li",{key:n},[e("div",{staticClass:"item-wrap"},[e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.links(a.act_url)}}},[e("span",{staticClass:"status",class:1==a.is_underway?"underway":2==a.is_underway?"ended":""},[t._v(t._s(1==a.is_underway?t.english.进行中:2==a.is_underway?t.english.已结束:""))]),e("div",{staticClass:"act-banner"},[e("img",{attrs:{src:t.imgRequest+a.act_banner_pic_pc,alt:""}}),2==a.is_underway?e("div",{staticClass:"expired"}):t._e()]),e("div",{staticClass:"act-info"},[e("h4",{staticClass:"c-red"},[t._v(t._s(a.act_title))]),2==a.is_underway?e("p",[t._v(t._s(t.english.已结束))]):e("p",[t._v(t._s(a.act_end_date)+" "+t._s(t.english.结束))])])])])])})),0)]),e("div",{staticClass:"page-wrapper"},[e("Page",{attrs:{total:t.pageCount,current:t.page},on:{"on-change":function(a){return t.pageData(t.page,t.type)},"update:current":function(a){t.page=a}}})],1)]:e("div",{staticClass:"noContent"})]],2)])])])},s=[],i=(e("9cd3"),e("0207")),c={data:function(){return{english:i,VueTitle:i.活动中心,loading:!1,isUnderway:"",menuIndex:0,menuData:[{name:i.全部活动,type:-1},{name:i.进行中,type:1},{name:i.已结束,type:2}],defaultData:[],actListData:[],pageCount:10,page:1,type:-1,onePage:10}},created:function(){var t=this;if(!localStorage.getItem("token"))return this.$Modal.warning({content:i.您还未登录+"，"+i.请先登录,scrollable:!0,onOk:function(){var a=t;setTimeout((function(){a.$router.push({path:"/login"})}),1e3)}}),!1;this._getFetchActList(this.type)},mounted:function(){},methods:{changeMenu:function(t,a){var e=this;e.loading||(e.menuIndex=a,e.page=1,e._getFetchActList(t))},links:function(t){JSON.parse(localStorage.getItem("isUser"))?window.open(t):this.$Message.warning(i.游客暂无权限+"，"+i.请先注册会员)},pageData:function(t,a){var e=this,n=(t-1)*e.onePage,s=t*e.onePage;e.actListData=-1==a?e.defaultData.slice(n,s):e.newActList.slice(n,s)},_getFetchActList:function(t){var a=this;a.type=t;var e={token:localStorage.getItem("token"),is_all:1};a.loading=!0,a.$http.post(a.urlRequest+"?m=api&c=actcenter&a=fetchActList",e).then((function(e){if(a.loading=!1,0==e.data.status){if(a.defaultData=e.data.data,-1==t)a.actListData=a.defaultData;else{a.newActList=[];for(var n=0;n<a.defaultData.length;n++)a.defaultData[n].is_underway==t&&(a.newActList.push(a.defaultData[n]),a.actListData=a.newActList)}a.pageNum(),a.pageData(a.page,t)}else a.$Message.success(e.data.ret_msg)})).catch((function(t){a.loading=!1}))},pageNum:function(){var t=this,a=t.actListData.length,e=parseInt(a/t.onePage);a%t.onePage!=0?t.pageCount=10*(e+1):t.pageCount=10*e}},watch:{}},l=c,r=(e("f8ae"),e("2877")),u=Object(r["a"])(l,n,s,!1,null,"4aec510a",null);a["default"]=u.exports},5882:function(t,a,e){},f8ae:function(t,a,e){"use strict";e("5882")}}]);
//# sourceMappingURL=chunk-4549117a.4244ca89.js.map
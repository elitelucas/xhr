{"version":3,"sources":["webpack:///./src/components/personalCenter/setPayPsdComponent/setPayPsdComponent.vue?626a","webpack:///src/components/personalCenter/setPayPsdComponent/setPayPsdComponent.vue","webpack:///./src/components/personalCenter/setPayPsdComponent/setPayPsdComponent.vue?b9ec","webpack:///./src/components/personalCenter/setPayPsdComponent/setPayPsdComponent.vue","webpack:///./src/components/personalCenter/bindCardComponent/bindCardComponent.vue?d0c4","webpack:///./src/components/personalCenter/bindCardComponent/bindCardComponent.vue?0b85","webpack:///./src/components/personalCenter/bindCardComponent/bindCardComponent.vue?31f6","webpack:///src/components/personalCenter/bindCardComponent/bindCardComponent.vue","webpack:///./src/components/personalCenter/bindCardComponent/bindCardComponent.vue?d592","webpack:///./src/components/personalCenter/bindCardComponent/bindCardComponent.vue?5eac"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","english","支付密码","设置","model","value","callback","$$v","setPayPsdShow","expression","ref","setPayPsd","setpaypsdrule","密码","六位数字密码","$set","确认","请输入确认密码","slot","on","$event","setPayPsdOK","_v","_s","确定","setPayPsdCancle","取消","staticRenderFns","props","type","Boolean","default","data","Error","userAccountData","setFirstPayPsd","confirmSetFirstPayPsd","computed","wtcah","created","accountData","methods","$refs","setpaypsd","validate","valid","params","token","localStorage","getItem","psd","psd2","resetFields","$emit","component","绑定银行卡","bindCardCancel","text123","staticClass","开户银行","directives","name","rawName","DepositBank","UnionPay","class","cardShow","bindCard","银行卡","cardForm","cardrule","持卡人","userBankedData","请输入持卡人姓名","银行卡号","请输入银行卡号","发卡银行","手机号码","手机号码占位符","bindcardOK","bindcardCancle","test","$http","post","then","res","status","list","forEach"],"mappings":"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","file":"pcweb/js/chunk-7a6ca90a.d470c848.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{attrs:{\"title\":_vm.english.支付密码+' '+_vm.english.设置,\"mask-closable\":false,\"width\":\"400\",\"class-name\":\"\"},model:{value:(_vm.setPayPsdShow),callback:function ($$v) {_vm.setPayPsdShow=$$v},expression:\"setPayPsdShow\"}},[_c('Form',{ref:\"setpaypsd\",attrs:{\"model\":_vm.setPayPsd,\"rules\":_vm.setpaypsdrule,\"label-width\":120,\"label-position\":\"left\"}},[_c('FormItem',{attrs:{\"label\":_vm.english.密码,\"prop\":\"setFirstPayPsd\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":_vm.english.六位数字密码},model:{value:(_vm.setPayPsd.setFirstPayPsd),callback:function ($$v) {_vm.$set(_vm.setPayPsd, \"setFirstPayPsd\", $$v)},expression:\"setPayPsd.setFirstPayPsd\"}})],1),_c('FormItem',{attrs:{\"label\":_vm.english.确认+' '+_vm.english.密码,\"prop\":\"confirmSetFirstPayPsd\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":_vm.english.请输入确认密码},model:{value:(_vm.setPayPsd.confirmSetFirstPayPsd),callback:function ($$v) {_vm.$set(_vm.setPayPsd, \"confirmSetFirstPayPsd\", $$v)},expression:\"setPayPsd.confirmSetFirstPayPsd\"}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\",\"align\":\"center\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"error\"},on:{\"click\":function($event){return _vm.setPayPsdOK('setpaypsd')}}},[_vm._v(_vm._s(_vm.english.确定))]),_c('Button',{on:{\"click\":function($event){return _vm.setPayPsdCancle('setpaypsd')}}},[_vm._v(_vm._s(_vm.english.取消))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <Modal :title=\"english.支付密码+' '+english.设置\" v-model=\"setPayPsdShow\" :mask-closable=\"false\" width=\"400\" class-name=\"\">\r\n       <Form ref=\"setpaypsd\" :model=\"setPayPsd\" :rules=\"setpaypsdrule\" :label-width=\"120\" label-position=\"left\">\r\n        <FormItem :label=\"english.密码\" prop=\"setFirstPayPsd\">\r\n            <Input type=\"password\" :placeholder=\"english.六位数字密码\" v-model=\"setPayPsd.setFirstPayPsd\"></Input>\r\n        </FormItem>\r\n        <FormItem :label=\"english.确认+' '+english.密码\" prop=\"confirmSetFirstPayPsd\">\r\n            <Input type=\"password\" :placeholder=\"english.请输入确认密码\" v-model=\"setPayPsd.confirmSetFirstPayPsd\"></Input>\r\n        </FormItem>\r\n        </Form>\r\n         <div slot=\"footer\" align=\"center\">\r\n            <Button type=\"error\" @click=\"setPayPsdOK('setpaypsd')\">{{english.确定}}</Button>\r\n            <Button @click=\"setPayPsdCancle('setpaypsd')\">{{english.取消}}</Button>\r\n        </div>\r\n    </Modal>\r\n</template>\r\n<script>\r\nimport { jsonToString } from \"@/common/js/jsonToString\";\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport english from \"@/assets/json/English.json\";\r\n\r\nexport default {\r\n  props: {\r\n    setPayPsdShow: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data() {\r\n    //验证设置密码\r\n    const checkSetPayPsd = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(english.密码+' '+english.不能+' '+english.为空));\r\n      } else if (!/^[0-9]{6}$/.test(value)) {\r\n        callback(new Error(english.支付密码必须为六位数字));\r\n      } else {\r\n        if (\r\n          this.setPayPsd.confirmSetFirstPayPsd !== this.setPayPsd.setFirstPayPsd\r\n        ) {\r\n          this.$refs.setpaypsd.validateField(\"confirmSetFirstPayPsd\");\r\n        }\r\n        callback();\r\n      }\r\n    };\r\n    const confirmSetPayPsd = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(english.请输入确认密码));\r\n      } else if (value !== this.setPayPsd.setFirstPayPsd) {\r\n        callback(new Error(english.两次密码输入不一致));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      english: english,\r\n      userAccountData: {},\r\n      //设置支付密码\r\n      setPayPsd: {\r\n        setFirstPayPsd: \"\",\r\n        confirmSetFirstPayPsd: \"\"\r\n      },\r\n      setpaypsdrule: {\r\n        setFirstPayPsd: [{ validator: checkSetPayPsd, trigger: \"blur\" }],\r\n        confirmSetFirstPayPsd: [\r\n          { validator: confirmSetPayPsd, trigger: \"blur\" }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"accountData\"])\r\n  },\r\n  wtcah: {},\r\n  created() {\r\n    this.userAccountData = this.accountData;\r\n    // JSON.parse(JSON.stringify());\r\n  },\r\n  methods: {\r\n    ...mapActions([\"SET_ACCOUNT_DATA\"]),\r\n    //设置密码ok\r\n    setPayPsdOK(setpaypsd) {\r\n      this.$refs[setpaypsd].validate(valid => {\r\n        if (valid) {\r\n          var params = {\r\n            token: localStorage.getItem(\"token\"),\r\n            psd: this.setPayPsd.setFirstPayPsd,\r\n            psd2: this.setPayPsd.confirmSetFirstPayPsd\r\n          };\r\n          this.$http\r\n            .post(\r\n              this.urlRequest + \"?m=api&c=user&a=setPayPSD\",\r\n              jsonToString(params)\r\n            )\r\n            .then(res => {\r\n              // localStorage.setItem(moma,res);\r\n              if (res.data.status == 0) {\r\n                this.$emit(\"update:setPayPsdShow\", false);\r\n                this.$Message.success(english.设置支付密码成功+\"!\");\r\n                this.userAccountData.is_set_paypassword = \"1\";\r\n                this.$router.push({path:'/topUpCenter/withdraw/step'})\r\n                // localStorage.setItem(\r\n                //   \"accountData\",\r\n                //   JSON.stringify(this.userAccountData)\r\n                // );\r\n                // this.SET_ACCOUNT_DATA({\r\n                //   obj: this.userAccountData\r\n                // });\r\n              } else {\r\n                this.$Message.error(res.data.ret_msg);\r\n              }\r\n            });\r\n        }\r\n      });\r\n    },\r\n    setPayPsdCancle(setpaypsd) {\r\n      this.$refs[setpaypsd].resetFields();\r\n      this.$emit(\"update:setPayPsdShow\", false);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n// WEBPACK FOOTER //\r\n// src/components/personalCenter/setPayPsdComponent/setPayPsdComponent.vue","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setPayPsdComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setPayPsdComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./setPayPsdComponent.vue?vue&type=template&id=439aecec&\"\nimport script from \"./setPayPsdComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./setPayPsdComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bindCardComponent.vue?vue&type=style&index=0&id=f2f3b07c&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bindCardComponent.vue?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{attrs:{\"title\":_vm.english.绑定银行卡,\"class-name\":\"\",\"width\":\"490\"},on:{\"on-cancel\":_vm.bindCardCancel},model:{value:(_vm.text123),callback:function ($$v) {_vm.text123=$$v},expression:\"text123\"}},[_c('div',{staticClass:\"outerBox\"},[_c('div',{staticClass:\"input-box\"},[_c('div',{staticClass:\"lableStyle\"},[_vm._v(_vm._s(_vm.english.开户银行))]),_c('div',{staticClass:\"list-box\"},[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.DepositBank.UnionPay == 1),expression:\"DepositBank.UnionPay == 1\"}],class:{'active' : _vm.cardShow},on:{\"click\":_vm.bindCard}},[_c('span',{staticClass:\"icon icon-bank\"}),_vm._v(_vm._s(_vm.english.银行卡))])])]),_c('Form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cardShow),expression:\"cardShow\"}],ref:\"card\",attrs:{\"model\":_vm.cardForm,\"rules\":_vm.cardrule,\"label-width\":130,\"label-position\":\"right\"}},[_c('FormItem',{attrs:{\"label\":_vm.english.持卡人,\"prop\":\"cardOwner\"}},[_c('Input',{attrs:{\"type\":\"text\",\"disabled\":_vm.userBankedData.name?true:false,\"placeholder\":_vm.english.请输入持卡人姓名},model:{value:(_vm.cardForm.cardOwner),callback:function ($$v) {_vm.$set(_vm.cardForm, \"cardOwner\", $$v)},expression:\"cardForm.cardOwner\"}})],1),_c('FormItem',{attrs:{\"label\":_vm.english.银行卡号,\"prop\":\"cardNumber\"}},[_c('Input',{attrs:{\"maxlength\":19,\"placeholder\":_vm.english.请输入银行卡号},model:{value:(_vm.cardForm.cardNumber),callback:function ($$v) {_vm.$set(_vm.cardForm, \"cardNumber\", $$v)},expression:\"cardForm.cardNumber\"}})],1),_c('FormItem',{attrs:{\"label\":_vm.english.发卡银行,\"prop\":\"cardOfBank\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"Please input bank name\"},model:{value:(_vm.cardForm.cardOfBank),callback:function ($$v) {_vm.$set(_vm.cardForm, \"cardOfBank\", $$v)},expression:\"cardForm.cardOfBank\"}})],1),_c('FormItem',{attrs:{\"label\":\"Branch name\",\"prop\":\"branchName\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"Please input branch name\"},model:{value:(_vm.cardForm.branchName),callback:function ($$v) {_vm.$set(_vm.cardForm, \"branchName\", $$v)},expression:\"cardForm.branchName\"}})],1),_c('FormItem',{attrs:{\"label\":_vm.english.手机号码,\"prop\":\"tel\"}},[_c('Input',{attrs:{\"type\":\"text\",\"maxlength\":11,\"placeholder\":_vm.english.手机号码占位符},model:{value:(_vm.cardForm.tel),callback:function ($$v) {_vm.$set(_vm.cardForm, \"tel\", $$v)},expression:\"cardForm.tel\"}})],1)],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cardShow),expression:\"cardShow\"}],attrs:{\"slot\":\"footer\",\"align\":\"center\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"error\"},on:{\"click\":function($event){return _vm.bindcardOK('card')}}},[_vm._v(_vm._s(_vm.english.确定))]),_c('Button',{on:{\"click\":function($event){return _vm.bindcardCancle('card')}}},[_vm._v(_vm._s(_vm.english.取消))])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <Modal :title=\"english.绑定银行卡\" v-model=\"text123\" class-name=\"\" width=\"490\" @on-cancel=\"bindCardCancel\">\r\n          <div class=\"outerBox\">\r\n            <div class=\"input-box\">\r\n\t\t\t\t<div class=\"lableStyle\">{{english.开户银行}}</div>\r\n\t\t\t\t<div class=\"list-box\">\r\n\t\t\t\t\t<!-- <p v-show=\"is_DepositBank.WeChat==1\" :class=\"{active:wxShow}\" @click=\"bindwx('ali','card')\"><span class=\"icon icon-wx\"></span>微信</p>\r\n            \t\t<p v-show=\"is_DepositBank.Alipay==1 \" :class=\"{active:aliShow}\" @click=\"bindali('wx','card')\"><span class=\"icon icon-zfb\"></span>支付宝</p> -->\r\n\t\t\t\t\t<p :class=\"{'active' : cardShow}\" v-show=\"DepositBank.UnionPay == 1\" @click=\"bindCard\"><span class=\"icon icon-bank\"></span>{{english.银行卡}}</p>\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- 微信 -->\r\n\t\t\t<!-- <Form ref=\"wx\" :model=\"wxForm\" :rules=\"wxrule\" :label-width=\"100\" label-position=\"right\" v-show=\"wxShow\">\r\n\t\t\t\t<FormItem label=\"微信账号\" prop=\"wxAccount\">\r\n\t\t\t\t\t<Input type=\"text\" v-model=\"wxForm.wxAccount\" placeholder=\"请输入微信账号\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"昵称\" prop=\"wxNickname\">\r\n\t\t\t\t\t<Input type=\"text\" v-model=\"wxForm.wxNickname\" placeholder=\"请输入微信昵称\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"真实姓名\" prop=\"name\">\r\n\t\t\t\t\t<Input type=\"text\" v-model=\"wxForm.name\" :disabled=\"userBankedData.name?true:false\" placeholder=\"请输入真实姓名\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"手机号码\" prop=\"tel\">\r\n\t\t\t\t\t<Input type=\"text\" v-model=\"wxForm.tel\" :maxlength=\"11\" placeholder=\"请输入手机号码\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t</Form> -->\r\n\t\t\t<!-- 支付宝 -->\r\n\t\t\t<!-- <Form ref=\"ali\" :model=\"aliForm\" :rules=\"alirule\" :label-width=\"100\" label-position=\"right\" v-show=\"aliShow\">\r\n\t\t\t\t<FormItem label=\"支付宝账号\" prop=\"aliAccount\">\r\n\t\t\t\t\t<Input type=\"text\" v-model=\"aliForm.aliAccount\" placeholder=\"请输入支付宝账号\" ></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"昵称\" prop=\"aliNickname\">\r\n\t\t\t\t\t<Input type=\"text\" v-model=\"aliForm.aliNickname\" placeholder=\"请输入支付宝昵称\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"真实姓名\" prop=\"name\">\r\n\t\t\t\t\t<Input type=\"text\" v-model=\"aliForm.name\" :disabled=\"userBankedData.name?true:false\" placeholder=\"请输入真实姓名\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"手机号码\" prop=\"tel\">\r\n\t\t\t\t\t<Input type=\"text\" v-model=\"aliForm.tel\" :maxlength=\"11\" placeholder=\"请输入手机号码\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t</Form> -->\r\n        \t<!-- 银行卡 -->\r\n            <Form ref=\"card\" :model=\"cardForm\" :rules=\"cardrule\" :label-width=\"130\" label-position=\"right\" v-show=\"cardShow\">\r\n\t\t\t\t<FormItem :label=\"english.持卡人\" prop=\"cardOwner\">\r\n\t\t\t\t\t<Input type=\"text\" v-model=\"cardForm.cardOwner\" :disabled=\"userBankedData.name?true:false\" :placeholder=\"english.请输入持卡人姓名\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem :label=\"english.银行卡号\" prop=\"cardNumber\">\r\n\t\t\t\t\t<Input v-model=\"cardForm.cardNumber\" :maxlength=\"19\" :placeholder=\"english.请输入银行卡号\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem :label=\"english.发卡银行\" prop=\"cardOfBank\">\r\n\t\t\t\t\t<Input type=\"text\" v-model=\"cardForm.cardOfBank\" placeholder=\"Please input bank name\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<!-- <FormItem :label=\"english.支行银行\" prop=\"branchOfBank\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col span=\"11\">\r\n\t\t\t\t\t\t\t<Select @on-change=\"mychange\" type=\"text\" placeholder=\"Please select\" v-model=\"citys\">\r\n\t\t\t\t\t\t\t\t<Option  :value=\"d.name\" v-for=\"(d,index) in citysObj\" :key=\"index\">{{d.name}}</Option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span=\"1\">&nbsp</Col>\r\n\t\t\t\t\t\t<Col span=\"12\">\r\n\t\t\t\t\t\t\t<Select type=\"text\" placeholder=\"Please select\" v-model=\"cardForm.branchOfBank\">\r\n\t\t\t\t\t\t\t\t<Option :value=\"d.name\" v-for=\"(d,index) in citysObj2\" :key=\"index\">{{d.name}}</Option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</FormItem> -->\r\n\t\t\t\t<FormItem label=\"Branch name\" prop=\"branchName\">\r\n\t\t\t\t\t<Input type=\"text\" v-model=\"cardForm.branchName\" placeholder=\"Please input branch name\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem :label=\"english.手机号码\" prop=\"tel\">\r\n\t\t\t\t\t<Input type=\"text\" v-model=\"cardForm.tel\" :maxlength=\"11\" :placeholder=\"english.手机号码占位符\"></Input>\r\n\t\t\t\t</FormItem>\r\n          \t</Form>\r\n\t\t</div>\r\n\t\t<!-- <div slot=\"footer\" align=\"center\" v-show=\"wxShow\">\r\n\t\t\t<Button type=\"error\" @click=\"bindwxOK('wx')\">确定</Button>\r\n\t\t\t<Button @click=\"bindwxCancle('wx')\">取消</Button>\r\n\t\t</div>\r\n\t\t<div slot=\"footer\" align=\"center\" v-show=\"aliShow\">\r\n\t\t\t<Button type=\"error\" @click=\"bindaliOK('ali')\">确定</Button>\r\n\t\t\t<Button @click=\"bindaliCancle('ali')\">取消</Button>\r\n\t\t</div> -->\r\n\t\t<div slot=\"footer\" align=\"center\" v-show=\"cardShow\">\r\n\t\t\t<Button type=\"error\" @click=\"bindcardOK('card')\">{{english.确定}}</Button>\r\n\t\t\t<Button @click=\"bindcardCancle('card')\">{{english.取消}}</Button>\r\n\t\t</div>\r\n    </Modal>\r\n</template>\r\n<script>\r\nimport { jsonToString } from \"@/common/js/jsonToString\";\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport appData from '../../../assets/json/citys.json';\r\nimport english from '../../../assets/json/English.json';\r\n\r\nexport default {\r\n\tprops: {\r\n\t\tbindCardShow: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\t// 绑定微信校验\r\n\t// \tconst checkwxAccount = (rule, value, callback) => {\r\n    //   if (rule.required && !value) {\r\n    //     callback(new Error(\"微信不能为空\"));\r\n    //   } else if (!/^[a-zA-Z0-9_-]{3,30}$/.test(value)) {\r\n    //     callback(new Error(\"输入的微信格式错误！\"));\r\n    //   } else {\r\n    //     callback();\r\n    //   }\r\n    // };\r\n\t// \tconst checkwxNickName = (rule, value, callback) => {\r\n    //   if (value === \"\") {\r\n    //     callback(new Error(\"微信昵称不能为空\"));\r\n    //   } else {\r\n    //     callback();\r\n    //   }\r\n    // };\r\n    // const checkName = (rule, value, callback) => {\r\n    //   if (value === \"\") {\r\n    //     callback(new Error(\"真实姓名不能为空\"));\r\n    //   }else {\r\n    //     callback();\r\n    //   }\r\n    // };\r\n    // const checkTel = (rule, value, callback) => {\r\n    //   if (value === \"\") {\r\n    //     callback(new Error(\"手机号码不能为空\"));\r\n    //   } else if (!/^[0-9]{11}$/.test(value)) {\r\n    //     callback(new Error(\"输入的手机号码格式错误！\"));\r\n    //   } else {\r\n    //     callback();\r\n    //   }\r\n    // };\r\n    //绑定支付宝校验\r\n    // const checkaliAccount = (rule, value, callback) => {\r\n    //   if (rule.required && !value) {\r\n    //     callback(new Error(\"支付宝账号不能为空\"));\r\n    //   } else if (!/^[a-zA-Z0-9_-]{3,30}$/.test(value)) {\r\n    //     callback(new Error(\"输入的支付宝格式错误！\"));\r\n    //   } else {\r\n    //     callback();\r\n    //   }\r\n    // };\r\n    // const checkaliNickName = (rule, value, callback) => {\r\n    //   if (value === \"\") {\r\n    //     callback(new Error(\"支付宝昵称不能为空\"));\r\n    //   } else {\r\n    //     callback();\r\n    //   }\r\n    // };\r\n    //绑定银行卡校验\r\n    const checkCardOwner = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(english.真实姓名+\" \"+english.不能+\" \"+english.为空));\r\n      }else {\r\n        callback();\r\n      }\r\n    };\r\n    const checkCardNumber = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(english.请输入银行卡号));\r\n      } else if (!/^([1-9]{1})(\\d+)$/.test(value)) {\r\n\t\t\t\t// callback();\r\n        callback(new Error(english.请输入位卡号));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    const checkCardOfBank = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"Please input bank card\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    // const checkBranchOfBank = (rule, value, callback) => {\r\n    //   if (value === \"\") {\r\n    //     callback(new Error(\"请选择发卡省市\"));\r\n    //   } else {\r\n    //     callback();\r\n    //   }\r\n    // };\r\n    const checkBranchName = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"Please input branch name\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    const checkTelephoneNumber = (rule, value, callback) => {\r\n      if (value !== \"\" && !/^[0-9]+$/.test(value)) {\r\n        callback(new Error(english.输入的手机号码格式错误+\"！\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n\treturn {\r\n\t\tenglish: english,\r\n\t\tuserAccountData: {},\r\n\t\tuserBankedData: {},\r\n\t\tcardInfo: {},\r\n\t\tmyNickname:\"\",\r\n\t\t// 绑定微信\r\n\t\t// wxShow: false,\r\n\t\t// text123: false,\r\n\t\t// wxForm: {\r\n\t\t// \twxAccount: \"\",\r\n\t\t// \twxNickname: \"\",\r\n\t\t// \tname: \"\",\r\n\t\t// \ttel: \"\"\r\n\t\t// },\r\n\t\t// wxrule: {\r\n\t\t// \twxAccount: [{ required: true, validator: checkwxAccount, trigger: \"blur\" }],\r\n\t\t// \twxNickname: [{ required: true, validator: checkwxNickName, trigger: \"blur\" }],\r\n\t\t// \tname: [{ required: true, validator: checkName, trigger: \"blur\" }],\r\n\t\t// \ttel: [{ required: true, validator: checkTel, trigger: \"blur\" }]\r\n\t\t// },\r\n\t\t//绑定支付宝\r\n\t\t// aliShow: false,\r\n\t\t// aliForm: {\r\n\t\t// \taliAccount: \"\",\r\n\t\t// \taliNickname: \"\",\r\n\t\t// \tname: \"\",\r\n\t\t// \ttel: \"\"\r\n\t\t// },\r\n\t\t// alirule: {\r\n\t\t// \taliAccount: [{ required: true, validator: checkaliAccount, trigger: \"blur\" }],\r\n\t\t// \taliNickname: [{ required: true, validator: checkaliNickName, trigger: \"blur\" }],\r\n\t\t// \tname: [{ required: true, validator: checkName, trigger: \"blur\" }],\r\n\t\t// \ttel: [{ required: true, validator: checkTel, trigger: \"blur\" }]\r\n\t\t// },\r\n\t\t//绑定银行卡\r\n\t\tcardShow: false,\r\n\t\tcardForm: {\r\n\t\t\tcardOwner: \"\",\r\n\t\t\tcardNumber: \"\",\r\n\t\t\tcardOfBank: \"\",\r\n\t\t\t// branchOfBank: \"\",\r\n\t\t\tbranchName: \"\",\r\n\t\t\ttel: \"\"\r\n\t\t},\r\n\t\tcardrule: {\r\n\t\t\tcardOwner: [{ required: true, validator: checkCardOwner, trigger: \"blur\" }],\r\n\t\t\tcardNumber: [{ required: true, validator: checkCardNumber, trigger: \"blur\" }],\r\n\t\t\tcardOfBank: [{ required: true, validator: checkCardOfBank, trigger: \"blur\" }],\r\n\t\t\t// branchOfBank: [{ required: true, validator: checkBranchOfBank, trigger: \"blur\" }],\r\n\t\t\tbranchName: [{ required: true, validator: checkBranchName, trigger: \"blur\" }],\r\n\t\t\ttel: [{ validator: checkTelephoneNumber, trigger: \"blur\" }]\r\n\t\t},\r\n\r\n\t\tDepositBank: {},\r\n\t\tobj:[],\r\n\t\tcitys:[],\r\n\t\tcitysObj:[],\r\n\t\tcitysObj2:[]\r\n\t};\r\n  \t},\r\n\tcomputed: {\r\n\t\t...mapGetters([\"bankedData\", \"accountData\", \"userInfo\"])\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getUserIsBindCard();\r\n\t\tthis.userAccountData = this.accountData;\r\n\t\tthis.$http.post(\"?m=api&c=bank&a=getConfigBanks\").then(res => {\r\n\t\t\tthis.obj = res.data.list\r\n\t\t}).catch(error => {\r\n\t\t\tthis.$Message.warning(english.数据请求超时);\r\n\t\t});\r\n\t\tthis.citysObj = appData\r\n\t\tthis.$http.post('?m=api&c=bank&a=switchCardType').then(res => {\r\n\t\t\tthis.DepositBank = res.data.data\r\n\t\t\tif (this.DepositBank.WeChat == 1) {\r\n\t\t\t\t// this.wxShow = true;\r\n\t\t\t} else if (this.DepositBank.Alipay == 1) {\r\n\t\t\t\t// this.aliShow = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.cardShow = true;\r\n\t\t\t}\r\n        }).catch(error => {\r\n\t\t\tthis.$Message.warning(english.数据请求超时);\r\n        });\r\n\t\t// JSON.parse(JSON.stringify());\r\n\t},\r\n\tmethods: {\r\n\t\t...mapActions([\"SET_BANKED_DATA\", \"SET_ACCOUNT_DATA\"]),\r\n\t\tbindCardCancel() { //关闭清空数据\r\n\t\t\t// if (this.wxShow) {\r\n\t\t\t// \tthis.wxForm.wxAccount = ''\r\n\t\t\t// \tthis.wxForm.wxNickname = ''\r\n\t\t\t// \tthis.wxForm.tel = ''\r\n\t\t\t// \treturn\r\n\t\t\t// }\r\n\t\t\t// if (this.aliShow) {\r\n\t\t\t// \tthis.aliForm.aliAccount = ''\r\n\t\t\t// \tthis.aliForm.aliNickname = ''\r\n\t\t\t// \tthis.aliForm.tel = ''\r\n\t\t\t// \treturn\r\n\t\t\t// }\r\n\t\t\tif (this.cardShow) {\r\n\t\t\t\tthis.cardForm.cardNumber = ''\r\n\t\t\t\tthis.cardForm.cardOfBank = ''\r\n\t\t\t\t// this.citys = ''\r\n\t\t\t\t// this.cardForm.branchOfBank = ''\r\n\t\t\t\tthis.cardForm.branchName = ''\r\n\t\t\t\tthis.cardForm.tel = ''\r\n\t\t\t\treturn\r\n\t\t\t}      \r\n\t\t},\r\n\t\tmychange() { //获取绑定银行卡信息银行卡信息\r\n\t\t\tthis.citysObj2 = []\r\n\t\t\tvar that = this;\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tappData.forEach((val,i) => {\r\n\t\t\t\t\tif (that.citys == val.name) {\r\n\t\t\t\t\t\tthat.citysObj2 = val.city\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}, 20)\r\n\t\t},\r\n\t\tgetUserIsBindCard: function() {\r\n\t\t\tvar params = {\r\n\t\t\t\ttoken: localStorage.getItem(\"token\")\r\n\t\t\t};\r\n\t\t\tvar that = this;\r\n\t\t\tthis.$http.post(this.urlRequest + \"?m=api&c=bank&a=getUserBank\", jsonToString(params)).then(res => {\r\n\t\t\t\tif (res.data.is_setBank !== 0) {\r\n\t\t\t\t\tthis.is_setBank = false\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.is_setBank = true\r\n\t\t\t\t}\r\n\t\t\t\tthat.userBankedData = res.data;\r\n\t\t\t\tif (res.data.name) {\r\n\t\t\t\t\t// this.wxForm.wxName = res.data.name\r\n\t\t\t\t\t// this.aliForm.aliName = res.data.name\r\n\t\t\t\t\tthis.cardForm.cardOwner = res.data.name\r\n\t\t\t\t}\r\n\t\t\t\tthat.cardInfo = res.data;\r\n\t\t\t\tif (that.userBankedData.bank_type == 1 || that.userBankedData.bank_type == 2) {\r\n\t\t\t\t\tthat.myNickname = JSON.parse(that.cardInfo.branch).nickname;\r\n\t\t\t\t}\r\n\t\t\t\tlocalStorage.setItem(\"bankedData\", JSON.stringify(res.data));\r\n\t\t\t\tthat.SET_BANKED_DATA({\r\n\t\t\t\t\tobj: res.data\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t// bindwx: function() {\r\n\t\t// \tthis.wxShow = true;\r\n\t\t// \tthis.aliShow = false;\r\n\t\t// \tthis.cardShow = false;\r\n\t\t// },\r\n\t\t// bindali: function() {\r\n\t\t// \tthis.wxShow = false;\r\n\t\t// \tthis.aliShow = true;\r\n\t\t// \tthis.cardShow = false;\r\n\t\t// },\r\n\t\tbindCard: function() {\r\n\t\t\t// this.wxShow = false;\r\n\t\t\t// this.aliShow = false;\r\n\t\t\tthis.cardShow = true;\r\n\t\t},\r\n\t\t//确定绑定微信\r\n\t\t// bindwxOK(wx) {\r\n\t\t// \tthis.$refs[wx].validate(valid => {\r\n\t\t// \t\tif (valid) {\r\n\t\t// \t\t\tvar params = {\r\n\t\t// \t\t\t\ttoken: localStorage.getItem(\"token\"),\r\n\t\t// \t\t\t\tname: this.wxForm.name,\r\n\t\t// \t\t\t\taccount: this.wxForm.wxAccount,\r\n\t\t// \t\t\t\tnickname: this.wxForm.wxNickname,\r\n\t\t// \t\t\t\tmobile: this.wxForm.tel,\r\n\t\t// \t\t\t\tflag_b: 1\r\n\t\t// \t\t\t};\r\n\t\t// \t\t\tconsole.log(params)\r\n\t\t// \t\t\tthis.$http.post(this.urlRequest + \"?m=api&c=bank&a=bindWeChatAndAlipay\", jsonToString(params)).then(res => {\r\n\t\t// \t\t\t\tconsole.log(res);\r\n\t\t// \t\t\t\tif (res.data.ret_msg == 0) {\r\n\t\t// \t\t\t\t\tthis.$emit(\"update:bindCardShow\", false);\r\n\t\t// \t\t\t\t\tthis.$Message.success(\"绑定微信成功！\");\r\n\t\t// \t\t\t\t\tconsole.log(this.userAccountData);\r\n\t\t// \t\t\t\t\tthis.userAccountData.is_banded_bank = \"1\";\r\n\t\t// \t\t\t\t\t// localStorage.setItem(\"accountData\", JSON.stringify(this.userAccountData));\r\n\t\t// \t\t\t\t\tthat.SET_ACCOUNT_DATA({\r\n\t\t// \t\t\t\t\t\tObj: that.userAccountData\r\n\t\t// \t\t\t\t\t});\r\n\t\t// \t\t\t\t\t//修改后的账号信息\r\n\t\t// \t\t\t\t\tconsole.log(this.userAccountData);\r\n\t\t// \t\t\t\t\tthis.getUserIsBindCard();\r\n\t\t// \t\t\t\t} else {\r\n\t\t// \t\t\t\t\tthis.$Message.error(res.data.ret_msg);\r\n\t\t// \t\t\t\t}\r\n\t\t// \t\t\t});\r\n\t\t// \t\t}\r\n\t\t// \t});\r\n\t\t// },\r\n\t\t//取消绑定微信\r\n\t\t// bindwxCancle(wx) {\r\n\t\t// \tthis.$refs[wx].resetFields();\r\n\t\t// \tthis.$emit(\"update:bindCardShow\", false);\r\n\t\t// },\r\n\t\t//确定绑定支付宝\r\n\t\t// bindaliOK(ali) {\r\n\t\t// \tthis.$refs[ali].validate(valid => {\r\n\t\t// \t\tif (valid) {\r\n\t\t// \t\t\tvar params = {\r\n\t\t// \t\t\t\ttoken: localStorage.getItem(\"token\"),\r\n\t\t// \t\t\t\tname: this.aliForm.name,\r\n\t\t// \t\t\t\taccount: this.aliForm.aliAccount,\r\n\t\t// \t\t\t\tnickname: this.aliForm.aliNickname,\r\n\t\t// \t\t\t\tmobile: this.aliForm.tel,\r\n\t\t// \t\t\t\tflag_b: 2\r\n\t\t// \t\t\t};\r\n\t\t// \t\t\tthis.$http.post(this.urlRequest + \"?m=api&c=bank&a=bindWeChatAndAlipay\", jsonToString(params)).then(res => {\r\n\t\t// \t\t\t\tconsole.log(res);\r\n\t\t// \t\t\t\tif (res.data.ret_msg == 0) {\r\n\t\t// \t\t\t\t\tthis.$emit(\"update:bindCardShow\", false);\r\n\t\t// \t\t\t\t\tthis.$Message.success(\"绑定支付宝成功！\");\r\n\t\t// \t\t\t\t\tthis.userAccountData.is_banded_bank = \"1\";\r\n\t\t// \t\t\t\t\t// localStorage.setItem(\"accountData\", JSON.stringify(this.userAccountData));\r\n\t\t// \t\t\t\t\tthis.SET_ACCOUNT_DATA({\r\n\t\t// \t\t\t\t\t\tObj: this.userAccountData\r\n\t\t// \t\t\t\t\t});\r\n\t\t// \t\t\t\t\tthis.getUserIsBindCard();\r\n\t\t// \t\t\t\t} else{\r\n\t\t// \t\t\t\t\tthis.$Message.error(res.data.ret_msg);\r\n\t\t// \t\t\t\t}\r\n\t\t// \t\t\t});\r\n\t\t// \t\t}\r\n\t\t// \t});\r\n    \t// },\r\n\t\t//取消绑定支付宝\r\n\t\t// bindaliCancle(ali) {\r\n\t\t// \tthis.$refs[ali].resetFields();\r\n\t\t// \tthis.$emit(\"update:bindCardShow\", false);\r\n\t\t// \t//   this.bindCardShow = false;\r\n\t\t// },\r\n\t\t//确定绑定银行卡\r\n    bindcardOK(card) {\r\n      this.$http.post(\"?m=api&c=bank&a=getConfigBanks\").then(res=>{\r\n        if (res.data.status == 0) {\r\n          res.data.list.forEach(val => {\r\n            if(val.name==this.cardForm.cardOfBank){\r\n            //   this.cardForm.cardOfBank = val.id\r\n            }\r\n\t\t\t\t\t});\r\n            \r\n\t\t\t\t\tthis.$refs[card].validate(valid => {\r\n\t\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\t\t\tcardForm: {\r\n\t\t\t\t\t\t\t\t\tcardOwner: \"\",\r\n\t\t\t\t\t\t\t\t\tcardNumber: \"\",\r\n\t\t\t\t\t\t\t\t\tcardOfBank: \"\",\r\n\t\t\t\t\t\t\t\t\t// branchOfBank: \"\",\r\n\t\t\t\t\t\t\t\t\tbranchName: \"\",\r\n\t\t\t\t\t\t\t\t\ttel: \"\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\ttoken: localStorage.getItem(\"token\"),\r\n\t\t\t\t\t\t\t\tname: this.cardForm.cardOwner,\r\n\t\t\t\t\t\t\t\taccount: this.cardForm.cardNumber,\r\n\t\t\t\t\t\t\t\tbank: this.cardForm.cardOfBank,\r\n\t\t\t\t\t\t\t\t// branch: this.citys + ' ' + this.cardForm.branchOfBank + ' ' + this.cardForm.branchName,\r\n\t\t\t\t\t\t\t\tbranch: this.cardForm.branchName,\r\n\t\t\t\t\t\t\t\tmobile: this.cardForm.tel\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis.$http.post(this.urlRequest + \"?m=api&c=bank&a=bank\", jsonToString(params)).then(res => {\r\n\t\t\t\t\t\t\t\tif (res.data.ret_msg == 0) {\r\n\t\t\t\t\t\t\t\t\tthis.$emit(\"update:bindCardShow\", false);\r\n\t\t\t\t\t\t\t\t\tthis.$Message.success(english.绑定银行卡成功+\"！\");\r\n\t\t\t\t\t\t\t\t\tthis.userAccountData.is_banded_bank = \"1\";\r\n\t\t\t\t\t\t\t\t\tthis.SET_ACCOUNT_DATA({\r\n\t\t\t\t\t\t\t\t\t\tObj: this.userAccountData\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tthis.getUserIsBindCard();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.$Message.error(res.data.ret_msg);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n        } else {\r\n          this.$Message.error(res.data.ret_msg);\r\n        }\r\n      })\r\n    },\r\n\t//确定绑定银行卡\r\n\tbindcardOK00(card) {\r\n\t\tthis.$refs[card].validate(valid => {\r\n\t\t\tif (valid) {\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\tcardForm: {\r\n\t\t\t\t\t\tcardOwner: \"\",\r\n\t\t\t\t\t\tcardNumber: \"\",\r\n\t\t\t\t\t\tcardOfBank: \"\",\r\n\t\t\t\t\t\t// branchOfBank: \"\",\r\n\t\t\t\t\t\tbranchName: \"\",\r\n\t\t\t\t\t\ttel: \"\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttoken: localStorage.getItem(\"token\"),\r\n\t\t\t\t\tname: this.cardForm.cardOwner,\r\n\t\t\t\t\taccount: this.cardForm.cardNumber,\r\n\t\t\t\t\tbank: this.cardForm.cardOfBank,\r\n\t\t\t\t\t// branch: this.citys + ' ' + this.cardForm.branchOfBank + ' ' + this.cardForm.branchName,\r\n\t\t\t\t\tbranch: this.cardForm.branchName,\r\n\t\t\t\t\tmobile: this.cardForm.tel\r\n\t\t\t\t};\r\n\t\t\t\tdebugger\r\n\t\t\t\tthis.$http.post(this.urlRequest + \"?m=api&c=bank&a=bank\", jsonToString(params)).then(res => {\r\n\t\t\t\t\tif (res.data.ret_msg == 0) {\r\n\t\t\t\t\t\tthis.$emit(\"update:bindCardShow\", false);\r\n\t\t\t\t\t\tthis.$Message.success(english.绑定银行卡成功+\"！\");\r\n\t\t\t\t\t\tthis.userAccountData.is_banded_bank = \"1\";\r\n\t\t\t\t\t\t// localStorage.setItem(\"accountData\",JSON.stringify(this.userAccountData));\r\n\t\t\t\t\t\tthis.SET_ACCOUNT_DATA({\r\n\t\t\t\t\t\t\tObj: this.userAccountData\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.getUserIsBindCard();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$Message.error(res.data.ret_msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t//取消绑定银行卡\r\n\tbindcardCancle(card) {\r\n\t\tthis.$refs[card].resetFields();\r\n\t\tthis.$emit(\"update:bindCardShow\", false);\r\n\t}\r\n  \t},\r\n\twatch: {\r\n\t\tbindCardShow(Boolean) {\r\n\t\t\tthis.text123 = Boolean;\r\n\t\t},\r\n\t\ttext123(Boolean) {\r\n\t\t\tthis.$emit(\"update:bindCardShow\", Boolean);\r\n\t\t},\r\n\t\t'$route'() {\r\n\t\t\tthis.getUserIsBindCard();\r\n\t\t\tthis.userAccountData = this.accountData;\r\n\t\t\tthis.$http.post(\"?m=api&c=bank&a=getConfigBanks\").then(res=>{\r\n\t\t\t\tthis.obj = res.data.list\r\n\t\t\t})\r\n\t\t\tthis.citysObj = appData\r\n\t\t\tthis.$http.post('?m=api&c=bank&a=switchCardType').then(res=>{\r\n\t\t\t\tthis.DepositBank = res.data.data\r\n\t\t\t\tif (this.DepositBank.WeChat == 1) {\r\n\t\t\t\t\t// this.wxShow = true;\r\n\t\t\t\t} else if (this.DepositBank.Alipay == 1) {\r\n\t\t\t\t\t// this.aliShow = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.cardShow = true;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style scoped>\r\n.fixed-pas {\r\n  width: 500px;\r\n}\r\n.ivu-form .ivu-form-item-label {\r\n  font-size: 14px;\r\n}\r\n.input-box {\r\n  width: 394px;\r\n}\r\n.input-box .lableStyle {\r\n  width: 140px !important;\r\n  margin-right: 12px;\r\n  height: 34px;\r\n  line-height: 34px;\r\n  padding-right: 0px;\r\n  font-size: 15px !important;\r\n  text-align: right;\r\n}\r\n.list-box {\r\n  width: 314px;\r\n}\r\n.list-box p {\r\n  float: left;\r\n  font-size: 15px;\r\n  height: 34px;\r\n  line-height: 34px;\r\n  border-radius: 1px;\r\n  padding: 0 9px;\r\n  background-color: #ffffff;\r\n  box-shadow: 0 1px 1px 0 rgba(255, 255, 255, 0.11);\r\n  border: solid 1px #e6e3da;\r\n  cursor: pointer;\r\n}\r\n.list-box p:nth-child(2) {\r\n  margin: 0 13px;\r\n}\r\n.input-box {\r\n  display: flex;\r\n}\r\n.outerBox {\r\n  padding: 18px 26px 0 26px;\r\n}\r\n\r\n.icon-wx {\r\n  display: inline-block;\r\n  width: 18px;\r\n  height: 18px;\r\n  background: url(\"../../../assets//images/spirt.png\") no-repeat -29px -190px;\r\n  margin: 0 5px;\r\n}\r\n.icon-zfb {\r\n  display: inline-block;\r\n  width: 18px;\r\n  height: 18px;\r\n  background: url(\"../../../assets//images/spirt.png\") no-repeat -29px -167px;\r\n  margin: 0 5px;\r\n}\r\n.icon-bank {\r\n  display: inline-block;\r\n  width: 18px;\r\n  height: 18px;\r\n  background: url(\"../../../assets//images/spirt.png\") no-repeat -29px -215px;\r\n  margin: 0 5px;\r\n}\r\np.active {\r\n  border: 1px solid #4a90e2;\r\n}\r\n</style>\r\n<style>\r\n.ivu-form .ivu-form-item-label {\r\n  /* font-size: 15px !important; */\r\n}\r\n.ivu-modal-header p,\r\n.ivu-modal-header-inner {\r\n  font-size: 16px;\r\n}\r\n.pink-bth {\r\n  cursor: pointer;\r\n}\r\n.activeStyle:hover {\r\n  color: #f3596a !important;\r\n}\r\n</style>\r\n\r\n\r\n// WEBPACK FOOTER //\r\n// src/components/personalCenter/bindCardComponent/bindCardComponent.vue","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bindCardComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bindCardComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./bindCardComponent.vue?vue&type=template&id=f2f3b07c&scoped=true&\"\nimport script from \"./bindCardComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./bindCardComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bindCardComponent.vue?vue&type=style&index=0&id=f2f3b07c&scoped=true&lang=css&\"\nimport style1 from \"./bindCardComponent.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f2f3b07c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
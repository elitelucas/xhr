(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c46dbaa2"],{2919:function(t,e,a){},4508:function(t,e,a){"use strict";a("2919")},"88a8":function(t,e,a){"use strict";a("d942")},d942:function(t,e,a){},ec27:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"conversion"},[a("Row",[a("Col",{attrs:{span:"14"}},[a("h3",{staticClass:"conversion_title"},[t._v(t._s(t.english.目前额度))]),a("Table",{attrs:{border:"",columns:t.tabInfo,data:t.tabData}})],1),a("Col",{attrs:{span:"8",offset:"2"}},[a("h3",{staticClass:"conversion_title"},[t._v(t._s(t.english.额度转换))]),a("div",{staticClass:"conversion_handle"},[a("Form",{attrs:{"label-position":"left","label-width":100}},[a("FormItem",{attrs:{label:t.english.转出+":"}},[a("Select",{on:{"on-change":t.rollOutFun},model:{value:t.rollOut,callback:function(e){t.rollOut=e},expression:"rollOut"}},[a("Option",{key:0,attrs:{value:0}},[t._v(t._s(t.english.现金余额))]),t._l(t.gameList,(function(e,n){return a("Option",{key:n+1,attrs:{value:n+1}},[t._v(t._s(e.game_name))])}))],2)],1),a("FormItem",{attrs:{label:t.english.转入+":"}},[a("Select",{on:{"on-change":t.rollInFun},model:{value:t.rollIn,callback:function(e){t.rollIn=e},expression:"rollIn"}},[a("Option",{key:0,attrs:{value:0}},[t._v(t._s(t.english.现金余额))]),t._l(t.gameList,(function(e,n){return a("Option",{key:n+1,attrs:{value:n+1}},[t._v(t._s(e.game_name))])}))],2)],1),a("FormItem",{attrs:{label:t.english.数额+"："}},[a("InputNumber",{attrs:{min:0},model:{value:t.rollNum,callback:function(e){t.rollNum=e},expression:"rollNum"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary",loading:t.submitLoad,disabled:t.submitLoad},on:{click:t.submit}},[t._v(t._s(t.english.提交订单))])],1)],1)],1)])],1)],1)},i=[],s=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),l=a("2f62");function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={data:function(){var t=this;return{tabInfo:[{title:english.账户,key:"name"},{title:english.余额,key:"money",render:function(e,a){return 1==a.index?e("div",[e("span",t.tabData[a.index].money+english.元)]):0==a.index?e("div",[e("span",t.tabData[a.index].money+english.元),e("Button",{style:{float:0==a.index?"":"right",marginLeft:0==a.index?"20px":""},props:{type:"primary",size:"small",loading:t.loadingBtn},on:{click:function(){0==a.index?(t.loadingBtn=!0,t._getGameList(1)):t.toGame(t.tabData[a.index].url)}}},t.tabData[a.index].btnTxt?t.tabData[a.index].btnTxt:english.进入游戏)]):e("div",[e("span",t.tabData[a.index].money+english.元),e("Button",{props:{type:"error",size:"small",loading:t.submitLoad},style:{float:"right"},on:{click:function(){t.rollAll(a.row.game_plat_id)}}},english.一键转入),e("Button",{style:{float:0==a.index?"":"right",marginLeft:0==a.index?"20px":""},props:{type:"primary",size:"small",loading:t.loadingBtn},on:{click:function(){0==a.index?(t.loadingBtn=!0,t._getGameList(1)):t.toGame(t.tabData[a.index].game_flag)}}},t.tabData[a.index].btnTxt?t.tabData[a.index].btnTxt:english.进入游戏)])}}],fixData:[{name:english.总余额,money:"",btnTxt:english.刷新},{name:english.现金余额,money:""}],gameList:[],rollOut:0,rollIn:null,rollNum:null,submitLoad:!1,token:localStorage.getItem("token"),loadingBtn:!1,cash:0}},computed:r(r({},Object(l["c"])(["userInfo","accountData"])),{},{tabData:function(){for(var t=[],e=0;e<this.gameList.length;e++){var a={};a.name=this.gameList[e].game_name,a.money=parseFloat(this.gameList[e].balance),_.isNaN(a.money)&&(a.money=0),a.game_plat_id=this.gameList[e].game_plat_id,a.game_flag=this.gameList[e].game_flag,t.push(a)}return this.fixData.concat(t)}}),created:function(){this._getGameList(1)},methods:r(r({},Object(l["b"])(["SET_ACCOUNT_DATA"])),{},{_getGameList:function(t){var e=this,a=this,n={};n.token=a.token,n.game_plat_id=t,a.$http.post(this.urlRequest+"?m=api&c=game&a=getGamePlatForAmtLimit",n).then((function(t){t=t.data,0==t.status?(a.fixData[0].money=t.data.balance_count,a.fixData[1].money=t.data.balance_usable,e.cash=t.data.balance_usable,a.gameList=t.data.plat_list):a.$Message.error({content:t.ret_msg}),e.loadingBtn=!1}))},rollOutFun:function(){0==this.rollOut?0==this.rollIn&&(this.rollIn=1):this.rollIn=0},rollInFun:function(){0==this.rollIn?0==this.rollOut&&(this.rollOut=1):this.rollOut=0},submit:function(){var t=this,e=this,a={};a.token=e.token,a.money=e.rollNum;var n=e.rollIn;if(0==e.rollIn)a.type=2,n=e.rollOut;else if(a.type=1,n=e.rollIn,0==e.fixData[1].money)return e.$Message.error({content:english.现金余额不足}),!1;if(null==e.rollNum||isNaN(e.rollNum))return e.$Message.error({content:english.请输入正确的转账金额}),!1;for(var i=0;i<e.gameList.length;i++)i==n-1&&(a.game_plat_id=e.gameList[i].game_plat_id);e.submitLoad=!0,e.$http.post(this.urlRequest+"?m=api&c=game&a=transfer",a).then((function(n){n=n.data,e.submitLoad=!1,0==n.status?(e.$Message.success({content:n.ret_msg}),e.rollNum=null,t._getGameList(a.game_plat_id)):e.$Message.error({content:n.ret_msg})}))},rollAll:function(t){var e=this,a=this;if(a.submitLoad)return!1;if(0==a.fixData[1].money)return a.$Message.error({content:english.现金余额不足}),!1;if(null==a.cash||isNaN(a.cash))return a.$vux.toast.show({text:english.请输入正确的转账金额}),!1;var n={};n.token=a.token,n.money=a.cash,n.type=1,n.game_plat_id=t,a.submitLoad=!0,a.$http.post(this.urlRequest+"?m=api&c=game&a=transfer",n).then((function(t){a.submitLoad=!1,0==t.data.status?e._getGameList(n.game_plat_id):a.$Message.error({content:t.data.ret_msg})}))},toGame:function(t){var e=this;this.$http.post(this.urlRequest+"?m=api&c=game&a=getGameUrl",{plat_flag:t,token:this.token}).then((function(t){if(t.data.ret_msg&&e.$Message.info(t.data.ret_msg),0==t.data.status){var a=window,n=(window,window),i="width=1270px, height=950px, scrollbars=yes";a!=a.parent&&(a=a.parent==a.parent.parent?a.parent:a.parent.parent),n=a.open(t.data.data.gameUrl,"game_window",i),n.focus()}}))}}),watch:{tabData:function(){0!=this.rollIn&&(this.rollIn=1)}},components:{}},c=u,m=(a("4508"),a("88a8"),a("2877")),g=Object(m["a"])(c,n,i,!1,null,"b38429a0",null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-c46dbaa2.6a2d365d.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a6ca90a"],{"1dc3":function(t,e,a){},"7fb5":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{title:t.english.支付密码+" "+t.english.设置,"mask-closable":!1,width:"400","class-name":""},model:{value:t.setPayPsdShow,callback:function(e){t.setPayPsdShow=e},expression:"setPayPsdShow"}},[a("Form",{ref:"setpaypsd",attrs:{model:t.setPayPsd,rules:t.setpaypsdrule,"label-width":120,"label-position":"left"}},[a("FormItem",{attrs:{label:t.english.密码,prop:"setFirstPayPsd"}},[a("Input",{attrs:{type:"password",placeholder:t.english.六位数字密码},model:{value:t.setPayPsd.setFirstPayPsd,callback:function(e){t.$set(t.setPayPsd,"setFirstPayPsd",e)},expression:"setPayPsd.setFirstPayPsd"}})],1),a("FormItem",{attrs:{label:t.english.确认+" "+t.english.密码,prop:"confirmSetFirstPayPsd"}},[a("Input",{attrs:{type:"password",placeholder:t.english.请输入确认密码},model:{value:t.setPayPsd.confirmSetFirstPayPsd,callback:function(e){t.$set(t.setPayPsd,"confirmSetFirstPayPsd",e)},expression:"setPayPsd.confirmSetFirstPayPsd"}})],1)],1),a("div",{attrs:{slot:"footer",align:"center"},slot:"footer"},[a("Button",{attrs:{type:"error"},on:{click:function(e){return t.setPayPsdOK("setpaypsd")}}},[t._v(t._s(t.english.确定))]),a("Button",{on:{click:function(e){return t.setPayPsdCancle("setpaypsd")}}},[t._v(t._s(t.english.取消))])],1)],1)},n=[],s=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),c=a("9cd3"),o=a("2f62"),i=a("0207");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={props:{setPayPsdShow:{type:Boolean,default:!0}},data:function(){var t=this,e=function(e,a,r){""===a?r(new Error(i.密码+" "+i.不能+" "+i.为空)):/^[0-9]{6}$/.test(a)?(t.setPayPsd.confirmSetFirstPayPsd!==t.setPayPsd.setFirstPayPsd&&t.$refs.setpaypsd.validateField("confirmSetFirstPayPsd"),r()):r(new Error(i.支付密码必须为六位数字))},a=function(e,a,r){""===a?r(new Error(i.请输入确认密码)):a!==t.setPayPsd.setFirstPayPsd?r(new Error(i.两次密码输入不一致)):r()};return{english:i,userAccountData:{},setPayPsd:{setFirstPayPsd:"",confirmSetFirstPayPsd:""},setpaypsdrule:{setFirstPayPsd:[{validator:e,trigger:"blur"}],confirmSetFirstPayPsd:[{validator:a,trigger:"blur"}]}}},computed:l({},Object(o["c"])(["accountData"])),wtcah:{},created:function(){this.userAccountData=this.accountData},methods:l(l({},Object(o["b"])(["SET_ACCOUNT_DATA"])),{},{setPayPsdOK:function(t){var e=this;this.$refs[t].validate((function(t){if(t){var a={token:localStorage.getItem("token"),psd:e.setPayPsd.setFirstPayPsd,psd2:e.setPayPsd.confirmSetFirstPayPsd};e.$http.post(e.urlRequest+"?m=api&c=user&a=setPayPSD",Object(c["a"])(a)).then((function(t){0==t.data.status?(e.$emit("update:setPayPsdShow",!1),e.$Message.success(i.设置支付密码成功+"!"),e.userAccountData.is_set_paypassword="1",e.$router.push({path:"/topUpCenter/withdraw/step"})):e.$Message.error(t.data.ret_msg)}))}}))},setPayPsdCancle:function(t){this.$refs[t].resetFields(),this.$emit("update:setPayPsdShow",!1)}})},p=u,h=a("2877"),m=Object(h["a"])(p,r,n,!1,null,null,null);e["a"]=m.exports},"829c":function(t,e,a){},c3ca:function(t,e,a){"use strict";a("1dc3")},e033:function(t,e,a){"use strict";a("829c")},f5b2:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{title:t.english.绑定银行卡,"class-name":"",width:"490"},on:{"on-cancel":t.bindCardCancel},model:{value:t.text123,callback:function(e){t.text123=e},expression:"text123"}},[a("div",{staticClass:"outerBox"},[a("div",{staticClass:"input-box"},[a("div",{staticClass:"lableStyle"},[t._v(t._s(t.english.开户银行))]),a("div",{staticClass:"list-box"},[a("p",{directives:[{name:"show",rawName:"v-show",value:1==t.DepositBank.UnionPay,expression:"DepositBank.UnionPay == 1"}],class:{active:t.cardShow},on:{click:t.bindCard}},[a("span",{staticClass:"icon icon-bank"}),t._v(t._s(t.english.银行卡))])])]),a("Form",{directives:[{name:"show",rawName:"v-show",value:t.cardShow,expression:"cardShow"}],ref:"card",attrs:{model:t.cardForm,rules:t.cardrule,"label-width":130,"label-position":"right"}},[a("FormItem",{attrs:{label:t.english.持卡人,prop:"cardOwner"}},[a("Input",{attrs:{type:"text",disabled:!!t.userBankedData.name,placeholder:t.english.请输入持卡人姓名},model:{value:t.cardForm.cardOwner,callback:function(e){t.$set(t.cardForm,"cardOwner",e)},expression:"cardForm.cardOwner"}})],1),a("FormItem",{attrs:{label:t.english.银行卡号,prop:"cardNumber"}},[a("Input",{attrs:{maxlength:19,placeholder:t.english.请输入银行卡号},model:{value:t.cardForm.cardNumber,callback:function(e){t.$set(t.cardForm,"cardNumber",e)},expression:"cardForm.cardNumber"}})],1),a("FormItem",{attrs:{label:t.english.发卡银行,prop:"cardOfBank"}},[a("Input",{attrs:{type:"text",placeholder:"Please input bank name"},model:{value:t.cardForm.cardOfBank,callback:function(e){t.$set(t.cardForm,"cardOfBank",e)},expression:"cardForm.cardOfBank"}})],1),a("FormItem",{attrs:{label:"Branch name",prop:"branchName"}},[a("Input",{attrs:{type:"text",placeholder:"Please input branch name"},model:{value:t.cardForm.branchName,callback:function(e){t.$set(t.cardForm,"branchName",e)},expression:"cardForm.branchName"}})],1),a("FormItem",{attrs:{label:t.english.手机号码,prop:"tel"}},[a("Input",{attrs:{type:"text",maxlength:11,placeholder:t.english.手机号码占位符},model:{value:t.cardForm.tel,callback:function(e){t.$set(t.cardForm,"tel",e)},expression:"cardForm.tel"}})],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.cardShow,expression:"cardShow"}],attrs:{slot:"footer",align:"center"},slot:"footer"},[a("Button",{attrs:{type:"error"},on:{click:function(e){return t.bindcardOK("card")}}},[t._v(t._s(t.english.确定))]),a("Button",{on:{click:function(e){return t.bindcardCancle("card")}}},[t._v(t._s(t.english.取消))])],1)])},n=[],s=(a("8e6e"),a("456d"),a("7f7f"),a("ac6a"),a("ade3")),c=a("9cd3"),o=a("2f62"),i=a("aa82"),d=a("0207");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={props:{bindCardShow:{type:Boolean,default:!1}},data:function(){var t=function(t,e,a){""===e?a(new Error(d.真实姓名+" "+d.不能+" "+d.为空)):a()},e=function(t,e,a){""===e?a(new Error(d.请输入银行卡号)):/^([1-9]{1})(\d+)$/.test(e)?a():a(new Error(d.请输入位卡号))},a=function(t,e,a){""===e?a(new Error("Please input bank card")):a()},r=function(t,e,a){""===e?a(new Error("Please input branch name")):a()},n=function(t,e,a){""===e||/^[0-9]+$/.test(e)?a():a(new Error(d.输入的手机号码格式错误+"！"))};return{english:d,userAccountData:{},userBankedData:{},cardInfo:{},myNickname:"",cardShow:!1,cardForm:{cardOwner:"",cardNumber:"",cardOfBank:"",branchName:"",tel:""},cardrule:{cardOwner:[{required:!0,validator:t,trigger:"blur"}],cardNumber:[{required:!0,validator:e,trigger:"blur"}],cardOfBank:[{required:!0,validator:a,trigger:"blur"}],branchName:[{required:!0,validator:r,trigger:"blur"}],tel:[{validator:n,trigger:"blur"}]},DepositBank:{},obj:[],citys:[],citysObj:[],citysObj2:[]}},computed:u({},Object(o["c"])(["bankedData","accountData","userInfo"])),created:function(){var t=this;this.getUserIsBindCard(),this.userAccountData=this.accountData,this.$http.post("?m=api&c=bank&a=getConfigBanks").then((function(e){t.obj=e.data.list})).catch((function(e){t.$Message.warning(d.数据请求超时)})),this.citysObj=i,this.$http.post("?m=api&c=bank&a=switchCardType").then((function(e){t.DepositBank=e.data.data,1==t.DepositBank.WeChat||1==t.DepositBank.Alipay||(t.cardShow=!0)})).catch((function(e){t.$Message.warning(d.数据请求超时)}))},methods:u(u({},Object(o["b"])(["SET_BANKED_DATA","SET_ACCOUNT_DATA"])),{},{bindCardCancel:function(){if(this.cardShow)return this.cardForm.cardNumber="",this.cardForm.cardOfBank="",this.cardForm.branchName="",void(this.cardForm.tel="")},mychange:function(){this.citysObj2=[];var t=this;setTimeout((function(){i.forEach((function(e,a){t.citys==e.name&&(t.citysObj2=e.city)}))}),20)},getUserIsBindCard:function(){var t=this,e={token:localStorage.getItem("token")},a=this;this.$http.post(this.urlRequest+"?m=api&c=bank&a=getUserBank",Object(c["a"])(e)).then((function(e){0!==e.data.is_setBank?t.is_setBank=!1:t.is_setBank=!0,a.userBankedData=e.data,e.data.name&&(t.cardForm.cardOwner=e.data.name),a.cardInfo=e.data,1!=a.userBankedData.bank_type&&2!=a.userBankedData.bank_type||(a.myNickname=JSON.parse(a.cardInfo.branch).nickname),localStorage.setItem("bankedData",JSON.stringify(e.data)),a.SET_BANKED_DATA({obj:e.data})}))},bindCard:function(){this.cardShow=!0},bindcardOK:function(t){var e=this;this.$http.post("?m=api&c=bank&a=getConfigBanks").then((function(a){0==a.data.status?(a.data.list.forEach((function(t){t.name,e.cardForm.cardOfBank})),e.$refs[t].validate((function(t){if(t){var a={cardForm:{cardOwner:"",cardNumber:"",cardOfBank:"",branchName:"",tel:""},token:localStorage.getItem("token"),name:e.cardForm.cardOwner,account:e.cardForm.cardNumber,bank:e.cardForm.cardOfBank,branch:e.cardForm.branchName,mobile:e.cardForm.tel};e.$http.post(e.urlRequest+"?m=api&c=bank&a=bank",Object(c["a"])(a)).then((function(t){0==t.data.ret_msg?(e.$emit("update:bindCardShow",!1),e.$Message.success(d.绑定银行卡成功+"！"),e.userAccountData.is_banded_bank="1",e.SET_ACCOUNT_DATA({Obj:e.userAccountData}),e.getUserIsBindCard()):e.$Message.error(t.data.ret_msg)}))}}))):e.$Message.error(a.data.ret_msg)}))},bindcardOK00:function(t){var e=this;this.$refs[t].validate((function(t){if(t){var a={cardForm:{cardOwner:"",cardNumber:"",cardOfBank:"",branchName:"",tel:""},token:localStorage.getItem("token"),name:e.cardForm.cardOwner,account:e.cardForm.cardNumber,bank:e.cardForm.cardOfBank,branch:e.cardForm.branchName,mobile:e.cardForm.tel};e.$http.post(e.urlRequest+"?m=api&c=bank&a=bank",Object(c["a"])(a)).then((function(t){0==t.data.ret_msg?(e.$emit("update:bindCardShow",!1),e.$Message.success(d.绑定银行卡成功+"！"),e.userAccountData.is_banded_bank="1",e.SET_ACCOUNT_DATA({Obj:e.userAccountData}),e.getUserIsBindCard()):e.$Message.error(t.data.ret_msg)}))}}))},bindcardCancle:function(t){this.$refs[t].resetFields(),this.$emit("update:bindCardShow",!1)}}),watch:{bindCardShow:function(t){this.text123=t},text123:function(t){this.$emit("update:bindCardShow",t)},$route:function(){var t=this;this.getUserIsBindCard(),this.userAccountData=this.accountData,this.$http.post("?m=api&c=bank&a=getConfigBanks").then((function(e){t.obj=e.data.list})),this.citysObj=i,this.$http.post("?m=api&c=bank&a=switchCardType").then((function(e){t.DepositBank=e.data.data,1==t.DepositBank.WeChat||1==t.DepositBank.Alipay||(t.cardShow=!0)}))}}},h=p,m=(a("c3ca"),a("e033"),a("2877")),b=Object(m["a"])(h,r,n,!1,null,"f2f3b07c",null);e["a"]=b.exports}}]);
//# sourceMappingURL=chunk-7a6ca90a.d470c848.js.map